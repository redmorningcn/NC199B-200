###############################################################################
#
# IAR ANSI C/C++ Compiler V7.50.1.10123/W32 for ARM       15/Jul/2018  10:36:19
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  F:\iar\NC210\NC210-200处理板\source\driver\bsp_q560.c
#    Command line =  
#        F:\iar\NC210\NC210-200处理板\source\driver\bsp_q560.c -D
#        USE_STDPERIPH_DRIVER -D APP_RELEASE -lCN
#        F:\iar\NC210\NC210-200处理板\project\app_release\List -o
#        F:\iar\NC210\NC210-200处理板\project\app_release\Obj --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M3 -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.3\arm\INC\c\DLib_Config_Full.h" -I
#        F:\iar\NC210\NC210-200处理板\project\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\config\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\task\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\user\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\OSAL\OS\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\OSAL\Ports\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\driver\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-LIB\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-CPU\ -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-CPU\ARM-Cortex-M3\IAR\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uCOS-III\Ports\ARM-Cortex-M3\Generic\IAR\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uCOS-III\Source\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\EvalBoards\Micrium\uC-Eval-STM32F107\BSP\IAR\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\EvalBoards\Micrium\uC-Eval-STM32F107\BSP\ST\STM32\inc\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\EvalBoards\Micrium\uC-Eval-STM32F107\BSP\OS\uCOS-III\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\EvalBoards\Micrium\uC-Eval-STM32F107\BSP\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-MB\Cfg\Template\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-MB\OS\uCOS-III\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-MB\Ports\STM32\STM32F103\IAR\
#        -I
#        F:\iar\NC210\NC210-200处理板\project\..\source\Software\uC-MB\Source\
#        -Ol --use_c++_inline -I "C:\Program Files (x86)\IAR Systems\Embedded
#        Workbench 7.3\arm\CMSIS\Include\"
#    List file    =  
#        F:\iar\NC210\NC210-200处理板\project\app_release\List\bsp_q560.lst
#    Object file  =  
#        F:\iar\NC210\NC210-200处理板\project\app_release\Obj\bsp_q560.o
#
###############################################################################

F:\iar\NC210\NC210-200处理板\source\driver\bsp_q560.c
      1          /**************************************************************
      2          * Description  : Q560 4G无线模块驱动
      3          * Author       : 2018/6/4 星期一, by redmorningcn
      4          */
      5          
      6          /*******************************************************************************
      7          * INCLUDES
      8          */
      9          #include <includes.h>

   \                                 In section .text, align 2
   \   __intrinsic __nounwind __interwork __softfp char *strstr(char const *, char const *)
   \                     strstr: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
   \   00000002   0x.... 0x....      BL       __iar_Strstr
   \   00000006   0xBD02             POP      {R1,PC}          ;; return
     10          #include <global.h>
     11          #include <string.h>
     12          #include <stdlib.h> 
     13          #include <bsp_q560.h>
     14          
     15          #define BSP_Q560_4G_EN 1
     16          #if     BSP_Q560_4G_EN > 0
     17          /*******************************************************************************
     18           * CONSTANTS
     19           */
     20          
     21          /*******************************************************************************
     22           * TYPEDEFS
     23           */
     24          
     25          /*******************************************************************************
     26           * LOCAL VARIABLES
     27           */
     28          
     29          /*******************************************************************************
     30           * GLOBAL VARIABLES
     31           */
     32          
     33          /*******************************************************************************
     34           * LOCAL FUNCTIONS
     35           */
     36          
     37          /*******************************************************************************
     38           * GLOBAL FUNCTIONS
     39           */
     40          
     41          /*******************************************************************************
     42           * EXTERN VARIABLES
     43           */
     44          
     45          /*******************************************************************************
     46           * EXTERN FUNCTIONS
     47           */
     48          
     49          //首先需要认识一下GPS的坐标系。GPS坐标系遵循WGS-84标准，在这个标准下，GPS芯片可以
     50          //发出不同的数据包格式。根据其数据帧帧头的不同，GPS数据可以分类为GPGGA、GPGSA、GPGSV、GPRMC等。
     51          //这些帧头标识了后续帧内数据的组成结构。通常情况下，我们所关心的定位数据如经纬度、
     52          //速度、时间等均可以从GPRMC帧中获取得到。
     53          //在次我不讲解具体的帧的格式，在网上可以很容易搜到，也可以总芯片配套的接口文档找到数据帧的格式。
     54          //通过解读GPRMC包，我们可以得到类似于“3040.8639,N,10405.7573,E”的位置数据，
     55          //其字段含义可以在文档中找到。这里我解析的结果是：北纬30°40.8639'，东经104°5.7573'。
     56          //在得到这两个数据后，我们可以试着去在地图上定位一下，我们发现多数地图定位用的是小数形式的坐标。
     57          //这里我们就需要去讲如何把一个GPS的原始数据，转换为小数形式的数据。
     58          //举例：106°14'15"的转换
     59          //因为度分秒都是六十进制的
     60          //所以可以这样转换：
     61          //15/60=0.25分
     62          //(14+0.25)/60=0.2375度
     63          //106+0.2375=106.2375度
     64          //所以最后的结果是106.2375°
     65          //通过这个转换之后，我的位置坐标【北纬30°40.8639'，东经104°5.7573'】就可以变成
     66          //【30.681065N,104.095955E】（这个就是WGS-84的坐标）这个模样。这个坐标是GPS的物理定位，
     67          //根据国际标准，需要对这个坐标进行GCJ-02偏移转换，转换后的坐标才可以在google地图、高德地图、
     68          //以及腾讯地图上定位（以上三家遵循GCJ-02加密）。至于为什么要这样做，是因为加密坐标的原因。
     69          //因为GCJ-02是不可逆的转换。
     70          //这里贴出由准寻WGS-84标准转换为GCJ-02的C++源码：
     71          #include <math.h>  

   \                                 In section .rodata, align 8
     72          const double pi = 3.14159265358979324;  
   \                     pi:
   \   00000000   0x54442D18         DC32 54442D18H, 400921FBH
   \              0x400921FB   
     73          //  
     74          // Krasovsky 1940  
     75          //   
     76          // a = 6378245.0, 1/f = 298.3   
     77          // b = a * (1 - f)  
     78          // ee = (a^2 - b^2) / a^2;   

   \                                 In section .rodata, align 8
     79          const double a      = 6378245.0;  
   \                     a:
   \   00000000   0x40000000         DC32 40000000H, 415854C1H
   \              0x415854C1   

   \                                 In section .rodata, align 8
     80          const double ee     = 0.00669342162296594323;  
   \                     ee:
   \   00000000   0xAF80EF0B         DC32 0AF80EF0BH, 3F7B6A8FH
   \              0x3F7B6A8F   
     81          

   \                                 In section .text, align 2, keep-with-next
     82          static BOOL outOfChina(double lat, double lon)   
     83          {   
   \                     outOfChina: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
   \   00000006   0x0010             MOVS     R0,R2
   \   00000008   0x0019             MOVS     R1,R3
     84              if (lon < 72.004 || lon > 137.8347)  
   \   0000000A   0x.... 0x....      LDR.W    R2,??DataTable6  ;; 0x89374bc7
   \   0000000E   0x.... 0x....      LDR.W    R3,??DataTable6_1  ;; 0x40520041
   \   00000012   0x.... 0x....      BL       __aeabi_cdcmple
   \   00000016   0xD306             BCC.N    ??outOfChina_0
   \   00000018   0x.... 0x....      LDR.W    R2,??DataTable6_2  ;; 0xdcc63f15
   \   0000001C   0x.... 0x....      LDR.W    R3,??DataTable6_3  ;; 0x40613ab5
   \   00000020   0x.... 0x....      BL       __aeabi_cdrcmple
   \   00000024   0xD801             BHI.N    ??outOfChina_1
     85                  return TRUE;   
   \                     ??outOfChina_0: (+1)
   \   00000026   0x2001             MOVS     R0,#+1
   \   00000028   0xE014             B.N      ??outOfChina_2
     86              if (lat < 0.8293 || lat > 55.8271)  
   \                     ??outOfChina_1: (+1)
   \   0000002A   0x0020             MOVS     R0,R4
   \   0000002C   0x0029             MOVS     R1,R5
   \   0000002E   0x.... 0x....      LDR.W    R2,??DataTable6_4  ;; 0x27525461
   \   00000032   0x.... 0x....      LDR.W    R3,??DataTable6_5  ;; 0x3fea89a0
   \   00000036   0x.... 0x....      BL       __aeabi_cdcmple
   \   0000003A   0xD308             BCC.N    ??outOfChina_3
   \   0000003C   0x0020             MOVS     R0,R4
   \   0000003E   0x0029             MOVS     R1,R5
   \   00000040   0x.... 0x....      LDR.W    R2,??DataTable7  ;; 0x69ad42c5
   \   00000044   0x.... 0x....      LDR.W    R3,??DataTable7_1  ;; 0x404be9de
   \   00000048   0x.... 0x....      BL       __aeabi_cdrcmple
   \   0000004C   0xD801             BHI.N    ??outOfChina_4
     87                  return TRUE; 
   \                     ??outOfChina_3: (+1)
   \   0000004E   0x2001             MOVS     R0,#+1
   \   00000050   0xE000             B.N      ??outOfChina_2
     88              return FALSE;  
   \                     ??outOfChina_4: (+1)
   \   00000052   0x2000             MOVS     R0,#+0
   \                     ??outOfChina_2: (+1)
   \   00000054   0xBD32             POP      {R1,R4,R5,PC}    ;; return
     89          } 
     90          

   \                                 In section .text, align 2, keep-with-next
     91          static double transformLat(double x, double y)  
     92          {   
   \                     transformLat: (+1)
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0x4680             MOV      R8,R0
   \   00000006   0x4689             MOV      R9,R1
   \   00000008   0x0016             MOVS     R6,R2
   \   0000000A   0x001F             MOVS     R7,R3
     93              double ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * sqrt(abs((int)x));  
   \   0000000C   0x4640             MOV      R0,R8
   \   0000000E   0x4649             MOV      R1,R9
   \   00000010   0x.... 0x....      BL       __aeabi_d2iz
   \   00000014   0x.... 0x....      BL       abs
   \   00000018   0x4682             MOV      R10,R0
   \   0000001A   0x2000             MOVS     R0,#+0
   \   0000001C   0xF05F 0x4180      MOVS     R1,#+1073741824
   \   00000020   0x4642             MOV      R2,R8
   \   00000022   0x464B             MOV      R3,R9
   \   00000024   0x.... 0x....      BL       __aeabi_dmul
   \   00000028   0x2200             MOVS     R2,#+0
   \   0000002A   0x.... 0x....      LDR.W    R3,??DataTable7_2  ;; 0xc0590000
   \   0000002E   0x.... 0x....      BL       __aeabi_dadd
   \   00000032   0x0004             MOVS     R4,R0
   \   00000034   0x000D             MOVS     R5,R1
   \   00000036   0x2000             MOVS     R0,#+0
   \   00000038   0x.... 0x....      LDR.W    R1,??DataTable7_3  ;; 0x40080000
   \   0000003C   0x0032             MOVS     R2,R6
   \   0000003E   0x003B             MOVS     R3,R7
   \   00000040   0x.... 0x....      BL       __aeabi_dmul
   \   00000044   0x0022             MOVS     R2,R4
   \   00000046   0x002B             MOVS     R3,R5
   \   00000048   0x.... 0x....      BL       __aeabi_dadd
   \   0000004C   0x0004             MOVS     R4,R0
   \   0000004E   0x000D             MOVS     R5,R1
   \   00000050   0x.... 0x....      LDR.W    R0,??DataTable7_4  ;; 0x9999999a
   \   00000054   0x.... 0x....      LDR.W    R1,??DataTable7_5  ;; 0x3fc99999
   \   00000058   0x0032             MOVS     R2,R6
   \   0000005A   0x003B             MOVS     R3,R7
   \   0000005C   0x.... 0x....      BL       __aeabi_dmul
   \   00000060   0x0032             MOVS     R2,R6
   \   00000062   0x003B             MOVS     R3,R7
   \   00000064   0x.... 0x....      BL       __aeabi_dmul
   \   00000068   0x0022             MOVS     R2,R4
   \   0000006A   0x002B             MOVS     R3,R5
   \   0000006C   0x.... 0x....      BL       __aeabi_dadd
   \   00000070   0x0004             MOVS     R4,R0
   \   00000072   0x000D             MOVS     R5,R1
   \   00000074   0x.... 0x....      LDR.W    R0,??DataTable7_4  ;; 0x9999999a
   \   00000078   0x.... 0x....      LDR.W    R1,??DataTable7_6  ;; 0x3fb99999
   \   0000007C   0x4642             MOV      R2,R8
   \   0000007E   0x464B             MOV      R3,R9
   \   00000080   0x.... 0x....      BL       __aeabi_dmul
   \   00000084   0x0032             MOVS     R2,R6
   \   00000086   0x003B             MOVS     R3,R7
   \   00000088   0x.... 0x....      BL       __aeabi_dmul
   \   0000008C   0x0022             MOVS     R2,R4
   \   0000008E   0x002B             MOVS     R3,R5
   \   00000090   0x.... 0x....      BL       __aeabi_dadd
   \   00000094   0x0004             MOVS     R4,R0
   \   00000096   0x000D             MOVS     R5,R1
   \   00000098   0x4650             MOV      R0,R10
   \   0000009A   0x.... 0x....      BL       __aeabi_i2d
   \   0000009E   0x.... 0x....      BL       sqrt
   \   000000A2   0x.... 0x....      LDR.W    R2,??DataTable7_4  ;; 0x9999999a
   \   000000A6   0x.... 0x....      LDR.W    R3,??DataTable7_5  ;; 0x3fc99999
   \   000000AA   0x.... 0x....      BL       __aeabi_dmul
   \   000000AE   0x0022             MOVS     R2,R4
   \   000000B0   0x002B             MOVS     R3,R5
   \   000000B2   0x.... 0x....      BL       __aeabi_dadd
   \   000000B6   0x0004             MOVS     R4,R0
   \   000000B8   0x000D             MOVS     R5,R1
     94              ret += (20.0 * sin(6.0 * x * pi) + 20.0 * sin(2.0 * x * pi)) * 2.0 / 3.0;   
   \   000000BA   0x2000             MOVS     R0,#+0
   \   000000BC   0x.... 0x....      LDR.W    R1,??DataTable7_7  ;; 0x40180000
   \   000000C0   0x4642             MOV      R2,R8
   \   000000C2   0x464B             MOV      R3,R9
   \   000000C4   0x.... 0x....      BL       __aeabi_dmul
   \   000000C8   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000000CC   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000000D0   0x.... 0x....      BL       __aeabi_dmul
   \   000000D4   0x.... 0x....      BL       sin
   \   000000D8   0x2200             MOVS     R2,#+0
   \   000000DA   0x.... 0x....      LDR.W    R3,??DataTable7_9  ;; 0x40340000
   \   000000DE   0x.... 0x....      BL       __aeabi_dmul
   \   000000E2   0x4682             MOV      R10,R0
   \   000000E4   0x468B             MOV      R11,R1
   \   000000E6   0x2000             MOVS     R0,#+0
   \   000000E8   0xF05F 0x4180      MOVS     R1,#+1073741824
   \   000000EC   0x4642             MOV      R2,R8
   \   000000EE   0x464B             MOV      R3,R9
   \   000000F0   0x.... 0x....      BL       __aeabi_dmul
   \   000000F4   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000000F8   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000000FC   0x.... 0x....      BL       __aeabi_dmul
   \   00000100   0x.... 0x....      BL       sin
   \   00000104   0x2200             MOVS     R2,#+0
   \   00000106   0x.... 0x....      LDR.W    R3,??DataTable7_9  ;; 0x40340000
   \   0000010A   0x.... 0x....      BL       __aeabi_dmul
   \   0000010E   0x4652             MOV      R2,R10
   \   00000110   0x465B             MOV      R3,R11
   \   00000112   0x.... 0x....      BL       __aeabi_dadd
   \   00000116   0x2200             MOVS     R2,#+0
   \   00000118   0xF05F 0x4380      MOVS     R3,#+1073741824
   \   0000011C   0x.... 0x....      BL       __aeabi_dmul
   \   00000120   0x2200             MOVS     R2,#+0
   \   00000122   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   00000126   0x.... 0x....      BL       __aeabi_ddiv
   \   0000012A   0x0022             MOVS     R2,R4
   \   0000012C   0x002B             MOVS     R3,R5
   \   0000012E   0x.... 0x....      BL       __aeabi_dadd
   \   00000132   0x0004             MOVS     R4,R0
   \   00000134   0x000D             MOVS     R5,R1
     95              ret += (20.0 * sin(y * pi) + 40.0 * sin(y / 3.0 * pi)) * 2.0 / 3.0;   
   \   00000136   0x.... 0x....      LDR.W    R2,??DataTable7_8
   \   0000013A   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   0000013E   0x0032             MOVS     R2,R6
   \   00000140   0x003B             MOVS     R3,R7
   \   00000142   0x.... 0x....      BL       __aeabi_dmul
   \   00000146   0x.... 0x....      BL       sin
   \   0000014A   0x0002             MOVS     R2,R0
   \   0000014C   0x000B             MOVS     R3,R1
   \   0000014E   0x2000             MOVS     R0,#+0
   \   00000150   0x.... 0x....      LDR.W    R1,??DataTable7_9  ;; 0x40340000
   \   00000154   0x.... 0x....      BL       __aeabi_dmul
   \   00000158   0x4680             MOV      R8,R0
   \   0000015A   0x4689             MOV      R9,R1
   \   0000015C   0x0030             MOVS     R0,R6
   \   0000015E   0x0039             MOVS     R1,R7
   \   00000160   0x2200             MOVS     R2,#+0
   \   00000162   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   00000166   0x.... 0x....      BL       __aeabi_ddiv
   \   0000016A   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   0000016E   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   00000172   0x.... 0x....      BL       __aeabi_dmul
   \   00000176   0x.... 0x....      BL       sin
   \   0000017A   0x2200             MOVS     R2,#+0
   \   0000017C   0x.... 0x....      LDR.W    R3,??DataTable7_11  ;; 0x40440000
   \   00000180   0x.... 0x....      BL       __aeabi_dmul
   \   00000184   0x4642             MOV      R2,R8
   \   00000186   0x464B             MOV      R3,R9
   \   00000188   0x.... 0x....      BL       __aeabi_dadd
   \   0000018C   0x2200             MOVS     R2,#+0
   \   0000018E   0xF05F 0x4380      MOVS     R3,#+1073741824
   \   00000192   0x.... 0x....      BL       __aeabi_dmul
   \   00000196   0x2200             MOVS     R2,#+0
   \   00000198   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   0000019C   0x.... 0x....      BL       __aeabi_ddiv
   \   000001A0   0x0022             MOVS     R2,R4
   \   000001A2   0x002B             MOVS     R3,R5
   \   000001A4   0x.... 0x....      BL       __aeabi_dadd
   \   000001A8   0x0004             MOVS     R4,R0
   \   000001AA   0x000D             MOVS     R5,R1
     96              ret += (160.0 * sin(y / 12.0 * pi) + 320 * sin(y * pi / 30.0)) * 2.0 / 3.0;   
   \   000001AC   0x0030             MOVS     R0,R6
   \   000001AE   0x0039             MOVS     R1,R7
   \   000001B0   0x2200             MOVS     R2,#+0
   \   000001B2   0x.... 0x....      LDR.W    R3,??DataTable7_12  ;; 0x40280000
   \   000001B6   0x.... 0x....      BL       __aeabi_ddiv
   \   000001BA   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000001BE   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000001C2   0x.... 0x....      BL       __aeabi_dmul
   \   000001C6   0x.... 0x....      BL       sin
   \   000001CA   0x0002             MOVS     R2,R0
   \   000001CC   0x000B             MOVS     R3,R1
   \   000001CE   0x2000             MOVS     R0,#+0
   \   000001D0   0x.... 0x....      LDR.W    R1,??DataTable7_13  ;; 0x40640000
   \   000001D4   0x.... 0x....      BL       __aeabi_dmul
   \   000001D8   0x4680             MOV      R8,R0
   \   000001DA   0x4689             MOV      R9,R1
   \   000001DC   0x.... 0x....      LDR.W    R2,??DataTable7_8
   \   000001E0   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   000001E4   0x0032             MOVS     R2,R6
   \   000001E6   0x003B             MOVS     R3,R7
   \   000001E8   0x.... 0x....      BL       __aeabi_dmul
   \   000001EC   0x2200             MOVS     R2,#+0
   \   000001EE   0x.... 0x....      LDR.W    R3,??DataTable7_14  ;; 0x403e0000
   \   000001F2   0x.... 0x....      BL       __aeabi_ddiv
   \   000001F6   0x.... 0x....      BL       sin
   \   000001FA   0x2200             MOVS     R2,#+0
   \   000001FC   0x.... 0x....      LDR.W    R3,??DataTable7_15  ;; 0x40740000
   \   00000200   0x.... 0x....      BL       __aeabi_dmul
   \   00000204   0x4642             MOV      R2,R8
   \   00000206   0x464B             MOV      R3,R9
   \   00000208   0x.... 0x....      BL       __aeabi_dadd
   \   0000020C   0x2200             MOVS     R2,#+0
   \   0000020E   0xF05F 0x4380      MOVS     R3,#+1073741824
   \   00000212   0x.... 0x....      BL       __aeabi_dmul
   \   00000216   0x2200             MOVS     R2,#+0
   \   00000218   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   0000021C   0x.... 0x....      BL       __aeabi_ddiv
   \   00000220   0x0022             MOVS     R2,R4
   \   00000222   0x002B             MOVS     R3,R5
   \   00000224   0x.... 0x....      BL       __aeabi_dadd
   \   00000228   0x0004             MOVS     R4,R0
   \   0000022A   0x000D             MOVS     R5,R1
     97              return ret;  
   \   0000022C   0x0020             MOVS     R0,R4
   \   0000022E   0x0029             MOVS     R1,R5
   \   00000230   0xE8BD 0x8FF4      POP      {R2,R4-R11,PC}   ;; return
     98          }   
     99          

   \                                 In section .text, align 2, keep-with-next
    100          static double transformLon(double x, double y)  
    101          {   
   \                     transformLon: (+1)
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0x0006             MOVS     R6,R0
   \   00000006   0x000F             MOVS     R7,R1
   \   00000008   0x0014             MOVS     R4,R2
   \   0000000A   0x001D             MOVS     R5,R3
    102              double ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * sqrt(abs((int)x));   
   \   0000000C   0x0030             MOVS     R0,R6
   \   0000000E   0x0039             MOVS     R1,R7
   \   00000010   0x.... 0x....      BL       __aeabi_d2iz
   \   00000014   0x.... 0x....      BL       abs
   \   00000018   0x4680             MOV      R8,R0
   \   0000001A   0x2000             MOVS     R0,#+0
   \   0000001C   0x.... 0x....      LDR.W    R1,??DataTable7_16  ;; 0x4072c000
   \   00000020   0x0032             MOVS     R2,R6
   \   00000022   0x003B             MOVS     R3,R7
   \   00000024   0x.... 0x....      BL       __aeabi_dadd
   \   00000028   0x4682             MOV      R10,R0
   \   0000002A   0x468B             MOV      R11,R1
   \   0000002C   0x2000             MOVS     R0,#+0
   \   0000002E   0xF05F 0x4180      MOVS     R1,#+1073741824
   \   00000032   0x0022             MOVS     R2,R4
   \   00000034   0x002B             MOVS     R3,R5
   \   00000036   0x.... 0x....      BL       __aeabi_dmul
   \   0000003A   0x4652             MOV      R2,R10
   \   0000003C   0x465B             MOV      R3,R11
   \   0000003E   0x.... 0x....      BL       __aeabi_dadd
   \   00000042   0x4682             MOV      R10,R0
   \   00000044   0x468B             MOV      R11,R1
   \   00000046   0x.... 0x....      LDR.W    R0,??DataTable7_4  ;; 0x9999999a
   \   0000004A   0x.... 0x....      LDR.W    R1,??DataTable7_6  ;; 0x3fb99999
   \   0000004E   0x0032             MOVS     R2,R6
   \   00000050   0x003B             MOVS     R3,R7
   \   00000052   0x.... 0x....      BL       __aeabi_dmul
   \   00000056   0x0032             MOVS     R2,R6
   \   00000058   0x003B             MOVS     R3,R7
   \   0000005A   0x.... 0x....      BL       __aeabi_dmul
   \   0000005E   0x4652             MOV      R2,R10
   \   00000060   0x465B             MOV      R3,R11
   \   00000062   0x.... 0x....      BL       __aeabi_dadd
   \   00000066   0x4682             MOV      R10,R0
   \   00000068   0x468B             MOV      R11,R1
   \   0000006A   0x.... 0x....      LDR.W    R0,??DataTable7_4  ;; 0x9999999a
   \   0000006E   0x.... 0x....      LDR.W    R1,??DataTable7_6  ;; 0x3fb99999
   \   00000072   0x0032             MOVS     R2,R6
   \   00000074   0x003B             MOVS     R3,R7
   \   00000076   0x.... 0x....      BL       __aeabi_dmul
   \   0000007A   0x0022             MOVS     R2,R4
   \   0000007C   0x002B             MOVS     R3,R5
   \   0000007E   0x.... 0x....      BL       __aeabi_dmul
   \   00000082   0x4652             MOV      R2,R10
   \   00000084   0x465B             MOV      R3,R11
   \   00000086   0x.... 0x....      BL       __aeabi_dadd
   \   0000008A   0x0004             MOVS     R4,R0
   \   0000008C   0x000D             MOVS     R5,R1
   \   0000008E   0x4640             MOV      R0,R8
   \   00000090   0x.... 0x....      BL       __aeabi_i2d
   \   00000094   0x.... 0x....      BL       sqrt
   \   00000098   0x.... 0x....      LDR.W    R2,??DataTable7_4  ;; 0x9999999a
   \   0000009C   0x.... 0x....      LDR.W    R3,??DataTable7_6  ;; 0x3fb99999
   \   000000A0   0x.... 0x....      BL       __aeabi_dmul
   \   000000A4   0x0022             MOVS     R2,R4
   \   000000A6   0x002B             MOVS     R3,R5
   \   000000A8   0x.... 0x....      BL       __aeabi_dadd
   \   000000AC   0x0004             MOVS     R4,R0
   \   000000AE   0x000D             MOVS     R5,R1
    103              ret += (20.0 * sin(6.0 * x * pi) + 20.0 * sin(2.0 * x * pi)) * 2.0 / 3.0;   
   \   000000B0   0x2000             MOVS     R0,#+0
   \   000000B2   0x.... 0x....      LDR.W    R1,??DataTable7_7  ;; 0x40180000
   \   000000B6   0x0032             MOVS     R2,R6
   \   000000B8   0x003B             MOVS     R3,R7
   \   000000BA   0x.... 0x....      BL       __aeabi_dmul
   \   000000BE   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000000C2   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000000C6   0x.... 0x....      BL       __aeabi_dmul
   \   000000CA   0x.... 0x....      BL       sin
   \   000000CE   0x2200             MOVS     R2,#+0
   \   000000D0   0x.... 0x....      LDR.W    R3,??DataTable7_9  ;; 0x40340000
   \   000000D4   0x.... 0x....      BL       __aeabi_dmul
   \   000000D8   0x4680             MOV      R8,R0
   \   000000DA   0x4689             MOV      R9,R1
   \   000000DC   0x2000             MOVS     R0,#+0
   \   000000DE   0xF05F 0x4180      MOVS     R1,#+1073741824
   \   000000E2   0x0032             MOVS     R2,R6
   \   000000E4   0x003B             MOVS     R3,R7
   \   000000E6   0x.... 0x....      BL       __aeabi_dmul
   \   000000EA   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000000EE   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000000F2   0x.... 0x....      BL       __aeabi_dmul
   \   000000F6   0x.... 0x....      BL       sin
   \   000000FA   0x2200             MOVS     R2,#+0
   \   000000FC   0x.... 0x....      LDR.W    R3,??DataTable7_9  ;; 0x40340000
   \   00000100   0x.... 0x....      BL       __aeabi_dmul
   \   00000104   0x4642             MOV      R2,R8
   \   00000106   0x464B             MOV      R3,R9
   \   00000108   0x.... 0x....      BL       __aeabi_dadd
   \   0000010C   0x2200             MOVS     R2,#+0
   \   0000010E   0xF05F 0x4380      MOVS     R3,#+1073741824
   \   00000112   0x.... 0x....      BL       __aeabi_dmul
   \   00000116   0x2200             MOVS     R2,#+0
   \   00000118   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   0000011C   0x.... 0x....      BL       __aeabi_ddiv
   \   00000120   0x0022             MOVS     R2,R4
   \   00000122   0x002B             MOVS     R3,R5
   \   00000124   0x.... 0x....      BL       __aeabi_dadd
   \   00000128   0x0004             MOVS     R4,R0
   \   0000012A   0x000D             MOVS     R5,R1
    104              ret += (20.0 * sin(x * pi) + 40.0 * sin(x / 3.0 * pi)) * 2.0 / 3.0;  
   \   0000012C   0x.... 0x....      LDR.W    R2,??DataTable7_8
   \   00000130   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   00000134   0x0032             MOVS     R2,R6
   \   00000136   0x003B             MOVS     R3,R7
   \   00000138   0x.... 0x....      BL       __aeabi_dmul
   \   0000013C   0x.... 0x....      BL       sin
   \   00000140   0x0002             MOVS     R2,R0
   \   00000142   0x000B             MOVS     R3,R1
   \   00000144   0x2000             MOVS     R0,#+0
   \   00000146   0x.... 0x....      LDR.W    R1,??DataTable7_9  ;; 0x40340000
   \   0000014A   0x.... 0x....      BL       __aeabi_dmul
   \   0000014E   0x4680             MOV      R8,R0
   \   00000150   0x4689             MOV      R9,R1
   \   00000152   0x0030             MOVS     R0,R6
   \   00000154   0x0039             MOVS     R1,R7
   \   00000156   0x2200             MOVS     R2,#+0
   \   00000158   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   0000015C   0x.... 0x....      BL       __aeabi_ddiv
   \   00000160   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   00000164   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   00000168   0x.... 0x....      BL       __aeabi_dmul
   \   0000016C   0x.... 0x....      BL       sin
   \   00000170   0x2200             MOVS     R2,#+0
   \   00000172   0x.... 0x....      LDR.W    R3,??DataTable7_11  ;; 0x40440000
   \   00000176   0x.... 0x....      BL       __aeabi_dmul
   \   0000017A   0x4642             MOV      R2,R8
   \   0000017C   0x464B             MOV      R3,R9
   \   0000017E   0x.... 0x....      BL       __aeabi_dadd
   \   00000182   0x2200             MOVS     R2,#+0
   \   00000184   0xF05F 0x4380      MOVS     R3,#+1073741824
   \   00000188   0x.... 0x....      BL       __aeabi_dmul
   \   0000018C   0x2200             MOVS     R2,#+0
   \   0000018E   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   00000192   0x.... 0x....      BL       __aeabi_ddiv
   \   00000196   0x0022             MOVS     R2,R4
   \   00000198   0x002B             MOVS     R3,R5
   \   0000019A   0x.... 0x....      BL       __aeabi_dadd
   \   0000019E   0x0004             MOVS     R4,R0
   \   000001A0   0x000D             MOVS     R5,R1
    105              ret += (150.0 * sin(x / 12.0 * pi) + 300.0 * sin(x / 30.0 * pi)) * 2.0 / 3.0;   
   \   000001A2   0x0030             MOVS     R0,R6
   \   000001A4   0x0039             MOVS     R1,R7
   \   000001A6   0x2200             MOVS     R2,#+0
   \   000001A8   0x.... 0x....      LDR.W    R3,??DataTable7_12  ;; 0x40280000
   \   000001AC   0x.... 0x....      BL       __aeabi_ddiv
   \   000001B0   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000001B4   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000001B8   0x.... 0x....      BL       __aeabi_dmul
   \   000001BC   0x.... 0x....      BL       sin
   \   000001C0   0x0002             MOVS     R2,R0
   \   000001C2   0x000B             MOVS     R3,R1
   \   000001C4   0x2000             MOVS     R0,#+0
   \   000001C6   0x.... 0x....      LDR.W    R1,??DataTable7_17  ;; 0x4062c000
   \   000001CA   0x.... 0x....      BL       __aeabi_dmul
   \   000001CE   0x4680             MOV      R8,R0
   \   000001D0   0x4689             MOV      R9,R1
   \   000001D2   0x0030             MOVS     R0,R6
   \   000001D4   0x0039             MOVS     R1,R7
   \   000001D6   0x2200             MOVS     R2,#+0
   \   000001D8   0x.... 0x....      LDR.W    R3,??DataTable7_14  ;; 0x403e0000
   \   000001DC   0x.... 0x....      BL       __aeabi_ddiv
   \   000001E0   0x.... 0x....      LDR.W    R6,??DataTable7_8
   \   000001E4   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   000001E8   0x.... 0x....      BL       __aeabi_dmul
   \   000001EC   0x.... 0x....      BL       sin
   \   000001F0   0x2200             MOVS     R2,#+0
   \   000001F2   0x.... 0x....      LDR.W    R3,??DataTable7_16  ;; 0x4072c000
   \   000001F6   0x.... 0x....      BL       __aeabi_dmul
   \   000001FA   0x4642             MOV      R2,R8
   \   000001FC   0x464B             MOV      R3,R9
   \   000001FE   0x.... 0x....      BL       __aeabi_dadd
   \   00000202   0x2200             MOVS     R2,#+0
   \   00000204   0xF05F 0x4380      MOVS     R3,#+1073741824
   \   00000208   0x.... 0x....      BL       __aeabi_dmul
   \   0000020C   0x2200             MOVS     R2,#+0
   \   0000020E   0x.... 0x....      LDR.W    R3,??DataTable7_3  ;; 0x40080000
   \   00000212   0x.... 0x....      BL       __aeabi_ddiv
   \   00000216   0x0022             MOVS     R2,R4
   \   00000218   0x002B             MOVS     R3,R5
   \   0000021A   0x.... 0x....      BL       __aeabi_dadd
   \   0000021E   0x0004             MOVS     R4,R0
   \   00000220   0x000D             MOVS     R5,R1
    106              return ret;  
   \   00000222   0x0020             MOVS     R0,R4
   \   00000224   0x0029             MOVS     R1,R5
   \   00000226   0xE8BD 0x8FF4      POP      {R2,R4-R11,PC}   ;; return
    107          }   
    108          /* 
    109          参数 
    110          wgLat:WGS-84纬度wgLon:WGS-84经度 
    111          返回值： 
    112          mgLat：GCJ-02纬度mgLon：GCJ-02经度 
    113          */  

   \                                 In section .text, align 2, keep-with-next
    114          void gps_transform( float wgLat, float wgLon, float *mgLat, float *mgLon)   
    115          {   
   \                     gps_transform: (+1)
   \   00000000   0xE92D 0x4FFC      PUSH     {R2-R11,LR}
   \   00000004   0xB087             SUB      SP,SP,#+28
   \   00000006   0x4682             MOV      R10,R0
   \   00000008   0x468B             MOV      R11,R1
    116              if (outOfChina(wgLat, wgLon)) {   
   \   0000000A   0x4658             MOV      R0,R11
   \   0000000C   0x.... 0x....      BL       __aeabi_f2d
   \   00000010   0x0002             MOVS     R2,R0
   \   00000012   0x000B             MOVS     R3,R1
   \   00000014   0x0014             MOVS     R4,R2
   \   00000016   0x001D             MOVS     R5,R3
   \   00000018   0x4650             MOV      R0,R10
   \   0000001A   0x.... 0x....      BL       __aeabi_f2d
   \   0000001E   0x0022             MOVS     R2,R4
   \   00000020   0x002B             MOVS     R3,R5
   \   00000022   0x.... 0x....      BL       outOfChina
   \   00000026   0x2800             CMP      R0,#+0
   \   00000028   0xD006             BEQ.N    ??gps_transform_0
    117                  *mgLat = wgLat;  
   \   0000002A   0x9807             LDR      R0,[SP, #+28]
   \   0000002C   0xF8C0 0xA000      STR      R10,[R0, #+0]
    118                  *mgLon = wgLon;  
   \   00000030   0x9808             LDR      R0,[SP, #+32]
   \   00000032   0xF8C0 0xB000      STR      R11,[R0, #+0]
    119                  return;   
   \   00000036   0xE0D7             B.N      ??gps_transform_1
    120              }   
    121              double dLat = transformLat(wgLon - 105.0, wgLat - 35.0);   
   \                     ??gps_transform_0: (+1)
   \   00000038   0x4650             MOV      R0,R10
   \   0000003A   0x.... 0x....      BL       __aeabi_f2d
   \   0000003E   0x2200             MOVS     R2,#+0
   \   00000040   0x.... 0x....      LDR.W    R3,??DataTable7_18  ;; 0xc0418000
   \   00000044   0x.... 0x....      BL       __aeabi_dadd
   \   00000048   0x0002             MOVS     R2,R0
   \   0000004A   0x000B             MOVS     R3,R1
   \   0000004C   0x0014             MOVS     R4,R2
   \   0000004E   0x001D             MOVS     R5,R3
   \   00000050   0x4658             MOV      R0,R11
   \   00000052   0x.... 0x....      BL       __aeabi_f2d
   \   00000056   0x2200             MOVS     R2,#+0
   \   00000058   0x.... 0x....      LDR.W    R3,??DataTable7_19  ;; 0xc05a4000
   \   0000005C   0x.... 0x....      BL       __aeabi_dadd
   \   00000060   0x0022             MOVS     R2,R4
   \   00000062   0x002B             MOVS     R3,R5
   \   00000064   0x.... 0x....      BL       transformLat
   \   00000068   0x0006             MOVS     R6,R0
   \   0000006A   0x000F             MOVS     R7,R1
    122              double dLon = transformLon(wgLon - 105.0, wgLat - 35.0);   
   \   0000006C   0x4650             MOV      R0,R10
   \   0000006E   0x.... 0x....      BL       __aeabi_f2d
   \   00000072   0x2200             MOVS     R2,#+0
   \   00000074   0x.... 0x....      LDR.W    R3,??DataTable7_18  ;; 0xc0418000
   \   00000078   0x.... 0x....      BL       __aeabi_dadd
   \   0000007C   0x0002             MOVS     R2,R0
   \   0000007E   0x000B             MOVS     R3,R1
   \   00000080   0x0014             MOVS     R4,R2
   \   00000082   0x001D             MOVS     R5,R3
   \   00000084   0x4658             MOV      R0,R11
   \   00000086   0x.... 0x....      BL       __aeabi_f2d
   \   0000008A   0x2200             MOVS     R2,#+0
   \   0000008C   0x.... 0x....      LDR.W    R3,??DataTable7_19  ;; 0xc05a4000
   \   00000090   0x.... 0x....      BL       __aeabi_dadd
   \   00000094   0x0022             MOVS     R2,R4
   \   00000096   0x002B             MOVS     R3,R5
   \   00000098   0x.... 0x....      BL       transformLon
   \   0000009C   0x0004             MOVS     R4,R0
   \   0000009E   0x000D             MOVS     R5,R1
    123              double radLat = wgLat / 180.0 * pi; double magic = sin(radLat);  
   \   000000A0   0x4650             MOV      R0,R10
   \   000000A2   0x.... 0x....      BL       __aeabi_f2d
   \   000000A6   0x2200             MOVS     R2,#+0
   \   000000A8   0x.... 0x....      LDR.W    R3,??DataTable7_20  ;; 0x40668000
   \   000000AC   0x.... 0x....      BL       __aeabi_ddiv
   \   000000B0   0x.... 0x....      LDR.W    R12,??DataTable7_8
   \   000000B4   0xE9DC 0x2300      LDRD     R2,R3,[R12, #+0]
   \   000000B8   0x.... 0x....      BL       __aeabi_dmul
   \   000000BC   0xE9CD 0x0104      STRD     R0,R1,[SP, #+16]
   \   000000C0   0xE9DD 0x0104      LDRD     R0,R1,[SP, #+16]
   \   000000C4   0x.... 0x....      BL       sin
   \   000000C8   0x4680             MOV      R8,R0
   \   000000CA   0x4689             MOV      R9,R1
    124              magic = 1 - ee * magic * magic; 
   \   000000CC   0x.... 0x....      LDR.W    R2,??DataTable7_21
   \   000000D0   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   000000D4   0x4642             MOV      R2,R8
   \   000000D6   0x464B             MOV      R3,R9
   \   000000D8   0x.... 0x....      BL       __aeabi_dmul
   \   000000DC   0x4642             MOV      R2,R8
   \   000000DE   0x464B             MOV      R3,R9
   \   000000E0   0x.... 0x....      BL       __aeabi_dmul
   \   000000E4   0x0002             MOVS     R2,R0
   \   000000E6   0x000B             MOVS     R3,R1
   \   000000E8   0x2000             MOVS     R0,#+0
   \   000000EA   0x.... 0x....      LDR.W    R1,??DataTable7_22  ;; 0x3ff00000
   \   000000EE   0x.... 0x....      BL       __aeabi_dsub
   \   000000F2   0x4680             MOV      R8,R0
   \   000000F4   0x4689             MOV      R9,R1
    125              double sqrtMagic = sqrt(magic);  
   \   000000F6   0x4640             MOV      R0,R8
   \   000000F8   0x4649             MOV      R1,R9
   \   000000FA   0x.... 0x....      BL       sqrt
   \   000000FE   0xE9CD 0x0102      STRD     R0,R1,[SP, #+8]
    126              dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);  
   \   00000102   0x2000             MOVS     R0,#+0
   \   00000104   0x.... 0x....      LDR.W    R1,??DataTable7_20  ;; 0x40668000
   \   00000108   0x0032             MOVS     R2,R6
   \   0000010A   0x003B             MOVS     R3,R7
   \   0000010C   0x.... 0x....      BL       __aeabi_dmul
   \   00000110   0xE9CD 0x0100      STRD     R0,R1,[SP, #+0]
   \   00000114   0x2000             MOVS     R0,#+0
   \   00000116   0x.... 0x....      LDR.W    R1,??DataTable7_22  ;; 0x3ff00000
   \   0000011A   0x.... 0x....      LDR.W    R6,??DataTable7_21
   \   0000011E   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   00000122   0x.... 0x....      BL       __aeabi_dsub
   \   00000126   0x.... 0x....      LDR.W    R6,??DataTable7_23
   \   0000012A   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   0000012E   0x.... 0x....      BL       __aeabi_dmul
   \   00000132   0x0006             MOVS     R6,R0
   \   00000134   0x000F             MOVS     R7,R1
   \   00000136   0x4640             MOV      R0,R8
   \   00000138   0x4649             MOV      R1,R9
   \   0000013A   0xE9DD 0x2302      LDRD     R2,R3,[SP, #+8]
   \   0000013E   0x.... 0x....      BL       __aeabi_dmul
   \   00000142   0x0002             MOVS     R2,R0
   \   00000144   0x000B             MOVS     R3,R1
   \   00000146   0x0030             MOVS     R0,R6
   \   00000148   0x0039             MOVS     R1,R7
   \   0000014A   0x.... 0x....      BL       __aeabi_ddiv
   \   0000014E   0x.... 0x....      LDR.W    R6,??DataTable7_8
   \   00000152   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   00000156   0x.... 0x....      BL       __aeabi_dmul
   \   0000015A   0x0002             MOVS     R2,R0
   \   0000015C   0x000B             MOVS     R3,R1
   \   0000015E   0xE9DD 0x0100      LDRD     R0,R1,[SP, #+0]
   \   00000162   0x.... 0x....      BL       __aeabi_ddiv
   \   00000166   0x0006             MOVS     R6,R0
   \   00000168   0x000F             MOVS     R7,R1
    127              dLon = (dLon * 180.0) / (a / sqrtMagic * cos(radLat) * pi);  
   \   0000016A   0x2000             MOVS     R0,#+0
   \   0000016C   0x.... 0x....      LDR.W    R1,??DataTable7_20  ;; 0x40668000
   \   00000170   0x0022             MOVS     R2,R4
   \   00000172   0x002B             MOVS     R3,R5
   \   00000174   0x.... 0x....      BL       __aeabi_dmul
   \   00000178   0x4680             MOV      R8,R0
   \   0000017A   0x4689             MOV      R9,R1
   \   0000017C   0x.... 0x....      LDR.W    R2,??DataTable7_23
   \   00000180   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   00000184   0xE9DD 0x2302      LDRD     R2,R3,[SP, #+8]
   \   00000188   0x.... 0x....      BL       __aeabi_ddiv
   \   0000018C   0x0004             MOVS     R4,R0
   \   0000018E   0x000D             MOVS     R5,R1
   \   00000190   0xE9DD 0x0104      LDRD     R0,R1,[SP, #+16]
   \   00000194   0x.... 0x....      BL       cos
   \   00000198   0x0022             MOVS     R2,R4
   \   0000019A   0x002B             MOVS     R3,R5
   \   0000019C   0x.... 0x....      BL       __aeabi_dmul
   \   000001A0   0x.... 0x....      LDR.W    R4,??DataTable7_8
   \   000001A4   0xE9D4 0x2300      LDRD     R2,R3,[R4, #+0]
   \   000001A8   0x.... 0x....      BL       __aeabi_dmul
   \   000001AC   0x0002             MOVS     R2,R0
   \   000001AE   0x000B             MOVS     R3,R1
   \   000001B0   0x4640             MOV      R0,R8
   \   000001B2   0x4649             MOV      R1,R9
   \   000001B4   0x.... 0x....      BL       __aeabi_ddiv
   \   000001B8   0x0004             MOVS     R4,R0
   \   000001BA   0x000D             MOVS     R5,R1
    128              *mgLat = wgLat + dLat; 
   \   000001BC   0x4650             MOV      R0,R10
   \   000001BE   0x.... 0x....      BL       __aeabi_f2d
   \   000001C2   0x0032             MOVS     R2,R6
   \   000001C4   0x003B             MOVS     R3,R7
   \   000001C6   0x.... 0x....      BL       __aeabi_dadd
   \   000001CA   0x.... 0x....      BL       __aeabi_d2f
   \   000001CE   0x9907             LDR      R1,[SP, #+28]
   \   000001D0   0x6008             STR      R0,[R1, #+0]
    129              *mgLon = wgLon + dLon;  
   \   000001D2   0x4658             MOV      R0,R11
   \   000001D4   0x.... 0x....      BL       __aeabi_f2d
   \   000001D8   0x0022             MOVS     R2,R4
   \   000001DA   0x002B             MOVS     R3,R5
   \   000001DC   0x.... 0x....      BL       __aeabi_dadd
   \   000001E0   0x.... 0x....      BL       __aeabi_d2f
   \   000001E4   0x9908             LDR      R1,[SP, #+32]
   \   000001E6   0x6008             STR      R0,[R1, #+0]
    130          } 
   \                     ??gps_transform_1: (+1)
   \   000001E8   0xB009             ADD      SP,SP,#+36
   \   000001EA   0xE8BD 0x8FF0      POP      {R4-R11,PC}      ;; return
    131          
    132          //经过以上的转换，我们的坐标就可以在遵循GCJ-02标准的地图删定位了，
    133          //这里给出大家一个比较好用的测试定位的网址：http://www.gpsspg.com/maps.htm
    134          //百度地图有些特殊，它在GCJ-02基础上又进行了一次加密，百度把这个加密标准叫做BD-09，
    135          //但是这个加密并没有对外公开。但是万能的网络以及无所不能的网友总会有办法解决这类问题。
    136          //这里我就贴出一个可行的转换办法，经过测试，定位很准确。
    137              

   \                                 In section .rodata, align 8
    138          const double x_pi = 3.14159265358979324 * 3000.0 / 180.0;    
   \                     x_pi:
   \   00000000   0x77C7044E         DC32 77C7044EH, 404A2E10H
   \              0x404A2E10   
    139          //将 GCJ-02 坐标转换成 BD-09 坐标  

   \                                 In section .text, align 2, keep-with-next
    140          void bd_encrypt(float gg_lat, float gg_lon, float *bd_lat, float *bd_lon)    
    141          { 
   \                     bd_encrypt: (+1)
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0x0004             MOVS     R4,R0
   \   00000006   0x0008             MOVS     R0,R1
   \   00000008   0x4693             MOV      R11,R2
   \   0000000A   0x469A             MOV      R10,R3
    142              double x = gg_lon, y = gg_lat;    
   \   0000000C   0x.... 0x....      BL       __aeabi_f2d
   \   00000010   0x0006             MOVS     R6,R0
   \   00000012   0x000F             MOVS     R7,R1
   \   00000014   0x0020             MOVS     R0,R4
   \   00000016   0x.... 0x....      BL       __aeabi_f2d
   \   0000001A   0x0004             MOVS     R4,R0
   \   0000001C   0x000D             MOVS     R5,R1
    143              double z = sqrt(x * x + y * y) + 0.00002 * sin(y * x_pi);    
   \   0000001E   0x0032             MOVS     R2,R6
   \   00000020   0x003B             MOVS     R3,R7
   \   00000022   0x0030             MOVS     R0,R6
   \   00000024   0x0039             MOVS     R1,R7
   \   00000026   0x.... 0x....      BL       __aeabi_dmul
   \   0000002A   0x4680             MOV      R8,R0
   \   0000002C   0x4689             MOV      R9,R1
   \   0000002E   0x0022             MOVS     R2,R4
   \   00000030   0x002B             MOVS     R3,R5
   \   00000032   0x0020             MOVS     R0,R4
   \   00000034   0x0029             MOVS     R1,R5
   \   00000036   0x.... 0x....      BL       __aeabi_dmul
   \   0000003A   0x4642             MOV      R2,R8
   \   0000003C   0x464B             MOV      R3,R9
   \   0000003E   0x.... 0x....      BL       __aeabi_dadd
   \   00000042   0x.... 0x....      BL       sqrt
   \   00000046   0x4680             MOV      R8,R0
   \   00000048   0x4689             MOV      R9,R1
   \   0000004A   0x.... 0x....      LDR.W    R2,??DataTable7_24
   \   0000004E   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   00000052   0x0022             MOVS     R2,R4
   \   00000054   0x002B             MOVS     R3,R5
   \   00000056   0x.... 0x....      BL       __aeabi_dmul
   \   0000005A   0x.... 0x....      BL       sin
   \   0000005E   0x.... 0x....      LDR.W    R2,??DataTable7_25  ;; 0x88e368f1
   \   00000062   0x.... 0x....      LDR.W    R3,??DataTable7_26  ;; 0x3ef4f8b5
   \   00000066   0x.... 0x....      BL       __aeabi_dmul
   \   0000006A   0x4642             MOV      R2,R8
   \   0000006C   0x464B             MOV      R3,R9
   \   0000006E   0x.... 0x....      BL       __aeabi_dadd
   \   00000072   0x4680             MOV      R8,R0
   \   00000074   0x4689             MOV      R9,R1
    144              double theta = atan2(y, x) + 0.000003 * cos(x * x_pi);    
   \   00000076   0x0032             MOVS     R2,R6
   \   00000078   0x003B             MOVS     R3,R7
   \   0000007A   0x0020             MOVS     R0,R4
   \   0000007C   0x0029             MOVS     R1,R5
   \   0000007E   0x.... 0x....      BL       atan2
   \   00000082   0x0004             MOVS     R4,R0
   \   00000084   0x000D             MOVS     R5,R1
   \   00000086   0x0030             MOVS     R0,R6
   \   00000088   0x0039             MOVS     R1,R7
   \   0000008A   0x.... 0x....      LDR.W    R6,??DataTable7_24
   \   0000008E   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   00000092   0x.... 0x....      BL       __aeabi_dmul
   \   00000096   0x.... 0x....      BL       cos
   \   0000009A   0x.... 0x....      LDR.W    R2,??DataTable7_27  ;; 0x7110e454
   \   0000009E   0x.... 0x....      LDR.W    R3,??DataTable7_28  ;; 0x3ec92a73
   \   000000A2   0x.... 0x....      BL       __aeabi_dmul
   \   000000A6   0x0022             MOVS     R2,R4
   \   000000A8   0x002B             MOVS     R3,R5
   \   000000AA   0x.... 0x....      BL       __aeabi_dadd
   \   000000AE   0x0004             MOVS     R4,R0
   \   000000B0   0x000D             MOVS     R5,R1
    145              *bd_lon = z * cos(theta) + 0.0065;    
   \   000000B2   0x0020             MOVS     R0,R4
   \   000000B4   0x0029             MOVS     R1,R5
   \   000000B6   0x.... 0x....      BL       cos
   \   000000BA   0x4642             MOV      R2,R8
   \   000000BC   0x464B             MOV      R3,R9
   \   000000BE   0x.... 0x....      BL       __aeabi_dmul
   \   000000C2   0x.... 0x....      LDR.W    R2,??DataTable7_29  ;; 0x76c8b439
   \   000000C6   0x.... 0x....      LDR.W    R3,??DataTable7_30  ;; 0x3f7a9fbe
   \   000000CA   0x.... 0x....      BL       __aeabi_dadd
   \   000000CE   0x.... 0x....      BL       __aeabi_d2f
   \   000000D2   0xF8CA 0x0000      STR      R0,[R10, #+0]
    146              *bd_lat = z * sin(theta) + 0.006;    
   \   000000D6   0x0020             MOVS     R0,R4
   \   000000D8   0x0029             MOVS     R1,R5
   \   000000DA   0x.... 0x....      BL       sin
   \   000000DE   0x4642             MOV      R2,R8
   \   000000E0   0x464B             MOV      R3,R9
   \   000000E2   0x.... 0x....      BL       __aeabi_dmul
   \   000000E6   0x.... 0x....      LDR.W    R2,??DataTable7_31  ;; 0xbc6a7efa
   \   000000EA   0x.... 0x....      LDR.W    R3,??DataTable7_32  ;; 0x3f789374
   \   000000EE   0x.... 0x....      BL       __aeabi_dadd
   \   000000F2   0x.... 0x....      BL       __aeabi_d2f
   \   000000F6   0xF8CB 0x0000      STR      R0,[R11, #+0]
    147          }    
   \   000000FA   0xE8BD 0x8FF1      POP      {R0,R4-R11,PC}   ;; return
    148              

   \                                 In section .text, align 2, keep-with-next
    149          void bd_decrypt(float bd_lat, float bd_lon, float *gg_lat, float *gg_lon)    
    150          {    
   \                     bd_decrypt: (+1)
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0x0004             MOVS     R4,R0
   \   00000006   0x0008             MOVS     R0,R1
   \   00000008   0x4693             MOV      R11,R2
   \   0000000A   0x469A             MOV      R10,R3
    151              double x = bd_lon - 0.0065, y = bd_lat - 0.006;    
   \   0000000C   0x.... 0x....      BL       __aeabi_f2d
   \   00000010   0x.... 0x....      LDR.W    R2,??DataTable7_29  ;; 0x76c8b439
   \   00000014   0x.... 0x....      LDR.W    R3,??DataTable7_33  ;; 0xbf7a9fbe
   \   00000018   0x.... 0x....      BL       __aeabi_dadd
   \   0000001C   0x0006             MOVS     R6,R0
   \   0000001E   0x000F             MOVS     R7,R1
   \   00000020   0x0020             MOVS     R0,R4
   \   00000022   0x.... 0x....      BL       __aeabi_f2d
   \   00000026   0x.... 0x....      LDR.W    R2,??DataTable7_31  ;; 0xbc6a7efa
   \   0000002A   0x.... 0x....      LDR.W    R3,??DataTable7_34  ;; 0xbf789374
   \   0000002E   0x.... 0x....      BL       __aeabi_dadd
   \   00000032   0x0004             MOVS     R4,R0
   \   00000034   0x000D             MOVS     R5,R1
    152              double z = sqrt(x * x + y * y) - 0.00002 * sin(y * x_pi);    
   \   00000036   0x0032             MOVS     R2,R6
   \   00000038   0x003B             MOVS     R3,R7
   \   0000003A   0x0030             MOVS     R0,R6
   \   0000003C   0x0039             MOVS     R1,R7
   \   0000003E   0x.... 0x....      BL       __aeabi_dmul
   \   00000042   0x4680             MOV      R8,R0
   \   00000044   0x4689             MOV      R9,R1
   \   00000046   0x0022             MOVS     R2,R4
   \   00000048   0x002B             MOVS     R3,R5
   \   0000004A   0x0020             MOVS     R0,R4
   \   0000004C   0x0029             MOVS     R1,R5
   \   0000004E   0x.... 0x....      BL       __aeabi_dmul
   \   00000052   0x4642             MOV      R2,R8
   \   00000054   0x464B             MOV      R3,R9
   \   00000056   0x.... 0x....      BL       __aeabi_dadd
   \   0000005A   0x.... 0x....      BL       sqrt
   \   0000005E   0x4680             MOV      R8,R0
   \   00000060   0x4689             MOV      R9,R1
   \   00000062   0x.... 0x....      LDR.W    R2,??DataTable7_24
   \   00000066   0xE9D2 0x0100      LDRD     R0,R1,[R2, #+0]
   \   0000006A   0x0022             MOVS     R2,R4
   \   0000006C   0x002B             MOVS     R3,R5
   \   0000006E   0x.... 0x....      BL       __aeabi_dmul
   \   00000072   0x.... 0x....      BL       sin
   \   00000076   0x.... 0x....      LDR.W    R2,??DataTable7_25  ;; 0x88e368f1
   \   0000007A   0x.... 0x....      LDR.W    R3,??DataTable7_26  ;; 0x3ef4f8b5
   \   0000007E   0x.... 0x....      BL       __aeabi_dmul
   \   00000082   0x0002             MOVS     R2,R0
   \   00000084   0x000B             MOVS     R3,R1
   \   00000086   0x4640             MOV      R0,R8
   \   00000088   0x4649             MOV      R1,R9
   \   0000008A   0x.... 0x....      BL       __aeabi_dsub
   \   0000008E   0x4680             MOV      R8,R0
   \   00000090   0x4689             MOV      R9,R1
    153              double theta = atan2(y, x) - 0.000003 * cos(x * x_pi);    
   \   00000092   0x0032             MOVS     R2,R6
   \   00000094   0x003B             MOVS     R3,R7
   \   00000096   0x0020             MOVS     R0,R4
   \   00000098   0x0029             MOVS     R1,R5
   \   0000009A   0x.... 0x....      BL       atan2
   \   0000009E   0x0004             MOVS     R4,R0
   \   000000A0   0x000D             MOVS     R5,R1
   \   000000A2   0x0030             MOVS     R0,R6
   \   000000A4   0x0039             MOVS     R1,R7
   \   000000A6   0x.... 0x....      LDR.W    R6,??DataTable7_24
   \   000000AA   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   000000AE   0x.... 0x....      BL       __aeabi_dmul
   \   000000B2   0x.... 0x....      BL       cos
   \   000000B6   0x.... 0x....      LDR.W    R2,??DataTable7_27  ;; 0x7110e454
   \   000000BA   0x.... 0x....      LDR.W    R3,??DataTable7_28  ;; 0x3ec92a73
   \   000000BE   0x.... 0x....      BL       __aeabi_dmul
   \   000000C2   0x0002             MOVS     R2,R0
   \   000000C4   0x000B             MOVS     R3,R1
   \   000000C6   0x0020             MOVS     R0,R4
   \   000000C8   0x0029             MOVS     R1,R5
   \   000000CA   0x.... 0x....      BL       __aeabi_dsub
   \   000000CE   0x0004             MOVS     R4,R0
   \   000000D0   0x000D             MOVS     R5,R1
    154              *gg_lon = z * cos(theta);    
   \   000000D2   0x0020             MOVS     R0,R4
   \   000000D4   0x0029             MOVS     R1,R5
   \   000000D6   0x.... 0x....      BL       cos
   \   000000DA   0x4642             MOV      R2,R8
   \   000000DC   0x464B             MOV      R3,R9
   \   000000DE   0x.... 0x....      BL       __aeabi_dmul
   \   000000E2   0x.... 0x....      BL       __aeabi_d2f
   \   000000E6   0xF8CA 0x0000      STR      R0,[R10, #+0]
    155              *gg_lat = z * sin(theta);    
   \   000000EA   0x0020             MOVS     R0,R4
   \   000000EC   0x0029             MOVS     R1,R5
   \   000000EE   0x.... 0x....      BL       sin
   \   000000F2   0x4642             MOV      R2,R8
   \   000000F4   0x464B             MOV      R3,R9
   \   000000F6   0x.... 0x....      BL       __aeabi_dmul
   \   000000FA   0x.... 0x....      BL       __aeabi_d2f
   \   000000FE   0xF8CB 0x0000      STR      R0,[R11, #+0]
    156          } 
   \   00000102   0xE8BD 0x8FF1      POP      {R0,R4-R11,PC}   ;; return
    157          
    158          /***********************************************
    159          参数说明:
    160          命令返回：
    161          [GPS 信息 返回格式]:
    162          $GPRMC,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>,<10>,<11>,<12>*hh
    163          <1> UTC 时间， hhmmss.sss(时分秒.毫秒)格式
    164          <2> 定位状态， A=有效定位， V=无效定位
    165          <3> 纬度 ddmm.mmmm(度分)格式(前面的 0 也将被传输)
    166          <4> 纬度半球 N(北半球)或 S(南半球)
    167          <5> 经度 dddmm.mmmm(度分)格式(前面的 0 也将被传输)
    168          <6> 经度半球 E(东经)或 W(西经)
    169          <7> 地面速率(000.0~999.9 节，前面的 0 也将被传输)
    170          <8> 地面航向(000.0~359.9 度，以正北为参考基准，前面的 0 也将被传输)
    171          <9> UTC 日期， ddmmyy(日月年)格式
    172          <10> 磁偏角(000.0~180.0 度，前面的 0 也将被传输)
    173          <11> 磁偏角方向， E(东)或 W(西)
    174          <12> 模式指示(仅 NMEA0183 3.00 版本输出， A=自主定位， D=差分， E=估算， N=数据无效)
    175          例如：
    176          有效数据： $GPRMC,225530.000,A,3637.26040,N,11700.56340,E,0.000,97.17,220512,,,D*57
    177          无效数据： $GPRMC,000353.000,V,8960.0000,N,00000.0000,E,0.000,0.00,060180,,,N*4B
    178          */ 

   \                                 In section .text, align 4, keep-with-next
    179          void    GPS_infoUnpack(char *pe )  
    180          {
   \                     GPS_infoUnpack: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0xB093             SUB      SP,SP,#+76
   \   00000004   0x0004             MOVS     R4,R0
    181              char    step    = 0;
   \   00000006   0x2500             MOVS     R5,#+0
    182              char    *pstr   = NULL;
   \   00000008   0x2600             MOVS     R6,#+0
    183          
    184              for ( step = 0; step < 11; step++, pe++ ) {                 //取个字段。
   \   0000000A   0x2500             MOVS     R5,#+0
   \   0000000C   0xE001             B.N      ??GPS_infoUnpack_0
    185                  pstr    = pe;
    186                  pe      = strstr(pstr,",");
    187                  switch ( step ) {
    188                      //时间
    189                  case 0:
    190                      strncpy(Ctrl.Gps.StrInfo.UtcTime, pstr, sizeof(Ctrl.Gps.StrInfo.UtcTime));
    191                      break;
    192                      //状态
    193                  case 1:
    194                      Ctrl.Gps.DecInfo.sta.GpsData = 1;
    195                      strncpy(Ctrl.Gps.StrInfo.Av, pstr, sizeof(Ctrl.Gps.StrInfo.Av));
    196                      //gps数据无效，直接返回
    197                      if ( Ctrl.Gps.StrInfo.Av[0] != 'A' ) {
    198                          Ctrl.Rec.GpsPos                 = 0;
    199                          Ctrl.Gps.DecInfo.sta.GpsData    = 0;
    200                          return;
    201                      }
    202                      break;
    203                      //纬度
    204                  case 2: {
    205                      strncpy(Ctrl.Gps.StrInfo.Latitude, pstr, sizeof(Ctrl.Gps.StrInfo.Latitude));
    206                      //它采集到的经度和纬度格式分别是
    207                      //纬度ddmm.mmmmm（度分）
    208                      //但实际如果想要在百度地图或Google地图中显示,则需要dd.mmmm和ddd.mmmm
    209                      //下面是转换算法:
    210                      //转换后的纬度 = ddmm.mmmm + (mm.mmmm/60)
    211                      float   g       = atof(Ctrl.Gps.StrInfo.Latitude);
    212                      int     d       = (int)g / 100;
    213                      //转换后的纬度 = ddmm.mmmm + (mm.mmmm/60) 
    214                      float   m       = g - d * 100; 
    215                      g                = d + m / 60;
    216                      Ctrl.Gps.DecInfo.Latitude   = g;
    217                  } break;
    218                  //南北半球
    219                  case 3:
    220                      strncpy(Ctrl.Gps.StrInfo.LatitudeNS, pstr, sizeof(Ctrl.Gps.StrInfo.LatitudeNS));
    221                      break;
    222                      //经度
    223                  case 4: {
    224                      strncpy(Ctrl.Gps.StrInfo.Longitude, pstr, sizeof(Ctrl.Gps.StrInfo.Longitude));
    225                      //它采集到的经度和纬度格式分别是
    226                      //经度dddmm.mmmmm（度分）
    227                      //但实际如果想要在百度地图或Google地图中显示,则需要dd.mmmm和ddd.mmmm
    228                      //下面是转换算法:
    229                      //转换后的经度 = dddmm.mmmm + (mm.mmmm/60)
    230                      float   g       = atof(Ctrl.Gps.StrInfo.Longitude);
    231                      int     d       = (int)g / 100;
    232                      float   m       = g - d * 100; 
    233                      g                = d + m / 60;
    234                      
    235                      Ctrl.Gps.DecInfo.Longitude  = g; 
    236                      
    237                      Ctrl.Rec.Latitude   = (u32)(1000000 * Ctrl.Gps.DecInfo.Latitude);
    238                      Ctrl.Rec.Longitude  = (u32)(1000000 * Ctrl.Gps.DecInfo.Longitude);
    239                  } break;
    240                  //东西半球
    241                  case 5:
    242                      strncpy(Ctrl.Gps.StrInfo.LongitudeEW, pstr,sizeof(Ctrl.Gps.StrInfo.LongitudeEW));
    243                      
    244                      //1东北；2东南；3西北；4西南；其他未知
    245                      if ( Ctrl.Gps.StrInfo.LongitudeEW[0] == 'E' ) {
    246                          if ( Ctrl.Gps.StrInfo.LatitudeNS[0] == 'N' ) 
    247                              Ctrl.Rec.GpsPos   = 1;
    248                          else
    249                              Ctrl.Rec.GpsPos   = 2;
    250                      } else {
    251                          if ( Ctrl.Gps.StrInfo.LatitudeNS[0] == 'N' ) 
    252                              Ctrl.Rec.GpsPos   = 3;
    253                          else
    254                              Ctrl.Rec.GpsPos   = 4;
    255                      }
    256                      
    257                      break;
    258                      //
    259                  case 6:
    260                      strncpy(Ctrl.Gps.StrInfo.Speed, pstr, sizeof(Ctrl.Gps.StrInfo.Speed));
    261                      Ctrl.Gps.DecInfo.Speed = (u16)atof(Ctrl.Gps.StrInfo.Speed);
    262                      Ctrl.Rec.GpsSpeed    = (u16)(Ctrl.Gps.DecInfo.Speed * 1.852);
    263                      break;
    264                  case 7:
    265                      strncpy(Ctrl.Gps.StrInfo.Course, pstr, sizeof(Ctrl.Gps.StrInfo.Course));
    266                      break;
    267                  case 8:
    268                      strncpy(Ctrl.Gps.StrInfo.UtcDate, pstr, sizeof(Ctrl.Gps.StrInfo.UtcDate)); 
    269                      if ( Ctrl.Gps.StrInfo.Av[0] == 'A' ) {
    270                          time_s  t_tm;
    271                          char    *strs    = Ctrl.Gps.StrInfo.UtcTime;
    272                          char    str[4];
    273                          strncpy(str, &strs[0],2);
    274                          t_tm.tm_hour    = atoi(str);
    275                          strncpy(str, &strs[2],2);
    276                          t_tm.tm_min     = atoi(str);
    277                          strncpy(str, &strs[4],2);
    278                          t_tm.tm_sec     = atoi(str);
    279                          strs            = Ctrl.Gps.StrInfo.UtcDate;
    280                          strncpy(str, &strs[0],2);
    281                          t_tm.tm_mday     = atoi(str);
    282                          strncpy(str, &strs[2],2);
    283                          t_tm.tm_mon     = atoi(str);
    284                          strncpy(str, &strs[4],2);
    285                          t_tm.tm_year    = atoi(str) + 2000;
    286                          time_t  t;
    287                          if ( t_tm.tm_hour < 16 ) {
    288                              t_tm.tm_hour   += 8;
    289                              t   = TIME_ConvCalendarToUnix(t_tm);
    290                          } else {
    291                              t   = TIME_ConvCalendarToUnix(t_tm) + 8*3600;
    292                          }
    293                          //如果时间差超过10秒则校准一次
    294                          if ( abs(t - t_now) > 10 ) {
    295                              TIME_SetUnixTime(t);
    296                              tm_now  = TIME_GetCalendarTime();
    297                          }
    298                      }
    299                      break;
    300                  case 9:
    301                      strncpy(Ctrl.Gps.StrInfo.MagneticDeg, pstr,sizeof(Ctrl.Gps.StrInfo.MagneticDeg));
    302                      break;
    303                  case 10:
    304                      strncpy(Ctrl.Gps.StrInfo.MagneticDegEW, pstr, sizeof(Ctrl.Gps.StrInfo.MagneticDegEW));
    305                      break;
    306                  default:
    307                      break;
   \                     ??GPS_infoUnpack_1: (+1)
   \                     ??GPS_infoUnpack_2: (+1)
   \   0000000E   0x1C6D             ADDS     R5,R5,#+1
   \   00000010   0x1C64             ADDS     R4,R4,#+1
   \                     ??GPS_infoUnpack_0: (+1)
   \   00000012   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000014   0x2D0B             CMP      R5,#+11
   \   00000016   0xF280 0x819F      BGE.W    ??GPS_infoUnpack_3
   \   0000001A   0x0026             MOVS     R6,R4
   \   0000001C   0xA1CF             ADR.N    R1,??GPS_infoUnpack_4  ;; ","
   \   0000001E   0x0030             MOVS     R0,R6
   \   00000020   0x.... 0x....      BL       strstr
   \   00000024   0x0004             MOVS     R4,R0
   \   00000026   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000028   0x2D00             CMP      R5,#+0
   \   0000002A   0xD015             BEQ.N    ??GPS_infoUnpack_5
   \   0000002C   0x2D02             CMP      R5,#+2
   \   0000002E   0xD042             BEQ.N    ??GPS_infoUnpack_6
   \   00000030   0xD319             BCC.N    ??GPS_infoUnpack_7
   \   00000032   0x2D04             CMP      R5,#+4
   \   00000034   0xD074             BEQ.N    ??GPS_infoUnpack_8
   \   00000036   0xD36C             BCC.N    ??GPS_infoUnpack_9
   \   00000038   0x2D06             CMP      R5,#+6
   \   0000003A   0xF000 0x80EA      BEQ.W    ??GPS_infoUnpack_10
   \   0000003E   0xF0C0 0x80AF      BCC.W    ??GPS_infoUnpack_11
   \   00000042   0x2D08             CMP      R5,#+8
   \   00000044   0xF000 0x810A      BEQ.W    ??GPS_infoUnpack_12
   \   00000048   0xF0C0 0x8102      BCC.W    ??GPS_infoUnpack_13
   \   0000004C   0x2D0A             CMP      R5,#+10
   \   0000004E   0xF000 0x817D      BEQ.W    ??GPS_infoUnpack_14
   \   00000052   0xF0C0 0x8175      BCC.W    ??GPS_infoUnpack_15
   \   00000056   0xE7DA             B.N      ??GPS_infoUnpack_1
   \                     ??GPS_infoUnpack_5: (+1)
   \   00000058   0x220C             MOVS     R2,#+12
   \   0000005A   0x0031             MOVS     R1,R6
   \   0000005C   0x.... 0x....      LDR.W    R0,??DataTable7_35
   \   00000060   0x.... 0x....      BL       strncpy
   \   00000064   0xE7D3             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_7: (+1)
   \   00000066   0x.... 0x....      LDR.W    R0,??DataTable7_36
   \   0000006A   0x7800             LDRB     R0,[R0, #+0]
   \   0000006C   0xF050 0x0001      ORRS     R0,R0,#0x1
   \   00000070   0x.... 0x....      LDR.W    R1,??DataTable7_36
   \   00000074   0x7008             STRB     R0,[R1, #+0]
   \   00000076   0x2202             MOVS     R2,#+2
   \   00000078   0x0031             MOVS     R1,R6
   \   0000007A   0x.... 0x....      LDR.W    R0,??DataTable7_37
   \   0000007E   0x.... 0x....      BL       strncpy
   \   00000082   0x.... 0x....      LDR.W    R0,??DataTable7_37
   \   00000086   0x7800             LDRB     R0,[R0, #+0]
   \   00000088   0x2841             CMP      R0,#+65
   \   0000008A   0xD013             BEQ.N    ??GPS_infoUnpack_16
   \   0000008C   0x.... 0x....      LDR.W    R0,??DataTable7_38
   \   00000090   0xF8B0 0x00DE      LDRH     R0,[R0, #+222]
   \   00000094   0xF24E 0x31FF      MOVW     R1,#+58367
   \   00000098   0x4008             ANDS     R0,R1,R0
   \   0000009A   0x.... 0x....      LDR.W    R1,??DataTable7_38
   \   0000009E   0xF8A1 0x00DE      STRH     R0,[R1, #+222]
   \   000000A2   0x.... 0x....      LDR.W    R0,??DataTable7_36
   \   000000A6   0x7800             LDRB     R0,[R0, #+0]
   \   000000A8   0xF010 0x00FE      ANDS     R0,R0,#0xFE
   \   000000AC   0x.... 0x....      LDR.W    R1,??DataTable7_36
   \   000000B0   0x7008             STRB     R0,[R1, #+0]
   \   000000B2   0xE151             B.N      ??GPS_infoUnpack_17
   \                     ??GPS_infoUnpack_16: (+1)
   \   000000B4   0xE7AB             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_6: (+1)
   \   000000B6   0x220C             MOVS     R2,#+12
   \   000000B8   0x0031             MOVS     R1,R6
   \   000000BA   0x.... 0x....      LDR.W    R0,??DataTable7_39
   \   000000BE   0x.... 0x....      BL       strncpy
   \   000000C2   0x.... 0x....      LDR.W    R0,??DataTable7_39
   \   000000C6   0x.... 0x....      BL       atof
   \   000000CA   0x.... 0x....      BL       __aeabi_d2f
   \   000000CE   0x0006             MOVS     R6,R0
   \   000000D0   0x0030             MOVS     R0,R6
   \   000000D2   0x.... 0x....      BL       __aeabi_f2iz
   \   000000D6   0x2164             MOVS     R1,#+100
   \   000000D8   0xFB90 0xF7F1      SDIV     R7,R0,R1
   \   000000DC   0x2064             MOVS     R0,#+100
   \   000000DE   0xFB00 0xF007      MUL      R0,R0,R7
   \   000000E2   0x.... 0x....      BL       __aeabi_i2f
   \   000000E6   0x0001             MOVS     R1,R0
   \   000000E8   0x0030             MOVS     R0,R6
   \   000000EA   0x.... 0x....      BL       __aeabi_fsub
   \   000000EE   0x0006             MOVS     R6,R0
   \   000000F0   0x0038             MOVS     R0,R7
   \   000000F2   0x.... 0x....      BL       __aeabi_i2f
   \   000000F6   0x0007             MOVS     R7,R0
   \   000000F8   0x0030             MOVS     R0,R6
   \   000000FA   0x.... 0x....      LDR.W    R1,??DataTable7_40  ;; 0x42700000
   \   000000FE   0x.... 0x....      BL       __aeabi_fdiv
   \   00000102   0x0039             MOVS     R1,R7
   \   00000104   0x.... 0x....      BL       __aeabi_fadd
   \   00000108   0x0006             MOVS     R6,R0
   \   0000010A   0x.... 0x....      LDR.W    R0,??DataTable7_41
   \   0000010E   0x6006             STR      R6,[R0, #+0]
   \   00000110   0xE77D             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_9: (+1)
   \   00000112   0x2202             MOVS     R2,#+2
   \   00000114   0x0031             MOVS     R1,R6
   \   00000116   0x.... 0x....      LDR.W    R0,??DataTable7_42
   \   0000011A   0x.... 0x....      BL       strncpy
   \   0000011E   0xE776             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_8: (+1)
   \   00000120   0x220C             MOVS     R2,#+12
   \   00000122   0x0031             MOVS     R1,R6
   \   00000124   0x.... 0x....      LDR.W    R0,??DataTable7_43
   \   00000128   0x.... 0x....      BL       strncpy
   \   0000012C   0x.... 0x....      LDR.W    R0,??DataTable7_43
   \   00000130   0x.... 0x....      BL       atof
   \   00000134   0x.... 0x....      BL       __aeabi_d2f
   \   00000138   0x0006             MOVS     R6,R0
   \   0000013A   0x0030             MOVS     R0,R6
   \   0000013C   0x.... 0x....      BL       __aeabi_f2iz
   \   00000140   0x2164             MOVS     R1,#+100
   \   00000142   0xFB90 0xF7F1      SDIV     R7,R0,R1
   \   00000146   0x2064             MOVS     R0,#+100
   \   00000148   0xFB00 0xF007      MUL      R0,R0,R7
   \   0000014C   0x.... 0x....      BL       __aeabi_i2f
   \   00000150   0x0001             MOVS     R1,R0
   \   00000152   0x0030             MOVS     R0,R6
   \   00000154   0x.... 0x....      BL       __aeabi_fsub
   \   00000158   0x0006             MOVS     R6,R0
   \   0000015A   0x0038             MOVS     R0,R7
   \   0000015C   0x.... 0x....      BL       __aeabi_i2f
   \   00000160   0x0007             MOVS     R7,R0
   \   00000162   0x0030             MOVS     R0,R6
   \   00000164   0x....             LDR.N    R1,??DataTable7_40  ;; 0x42700000
   \   00000166   0x.... 0x....      BL       __aeabi_fdiv
   \   0000016A   0x0039             MOVS     R1,R7
   \   0000016C   0x.... 0x....      BL       __aeabi_fadd
   \   00000170   0x0006             MOVS     R6,R0
   \   00000172   0x....             LDR.N    R0,??DataTable7_44
   \   00000174   0x6006             STR      R6,[R0, #+0]
   \   00000176   0x....             LDR.N    R0,??DataTable7_41
   \   00000178   0x6801             LDR      R1,[R0, #+0]
   \   0000017A   0x....             LDR.N    R0,??DataTable7_45  ;; 0x49742400
   \   0000017C   0x.... 0x....      BL       __aeabi_fmul
   \   00000180   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000184   0x....             LDR.N    R1,??DataTable7_38
   \   00000186   0xF8C1 0x00DA      STR      R0,[R1, #+218]
   \   0000018A   0x....             LDR.N    R0,??DataTable7_44
   \   0000018C   0x6801             LDR      R1,[R0, #+0]
   \   0000018E   0x....             LDR.N    R0,??DataTable7_45  ;; 0x49742400
   \   00000190   0x.... 0x....      BL       __aeabi_fmul
   \   00000194   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000198   0x....             LDR.N    R1,??DataTable7_38
   \   0000019A   0xF8C1 0x00D6      STR      R0,[R1, #+214]
   \   0000019E   0xE736             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_11: (+1)
   \   000001A0   0x2202             MOVS     R2,#+2
   \   000001A2   0x0031             MOVS     R1,R6
   \   000001A4   0x....             LDR.N    R0,??DataTable7_46
   \   000001A6   0x.... 0x....      BL       strncpy
   \   000001AA   0x....             LDR.N    R0,??DataTable7_46
   \   000001AC   0x7800             LDRB     R0,[R0, #+0]
   \   000001AE   0x2845             CMP      R0,#+69
   \   000001B0   0xD117             BNE.N    ??GPS_infoUnpack_18
   \   000001B2   0x....             LDR.N    R0,??DataTable7_42
   \   000001B4   0x7800             LDRB     R0,[R0, #+0]
   \   000001B6   0x284E             CMP      R0,#+78
   \   000001B8   0xD109             BNE.N    ??GPS_infoUnpack_19
   \   000001BA   0x2001             MOVS     R0,#+1
   \   000001BC   0x....             LDR.N    R1,??DataTable7_38
   \   000001BE   0xF8B1 0x10DE      LDRH     R1,[R1, #+222]
   \   000001C2   0xF360 0x218C      BFI      R1,R0,#+10,#+3
   \   000001C6   0x....             LDR.N    R0,??DataTable7_38
   \   000001C8   0xF8A0 0x10DE      STRH     R1,[R0, #+222]
   \   000001CC   0xE020             B.N      ??GPS_infoUnpack_20
   \                     ??GPS_infoUnpack_19: (+1)
   \   000001CE   0x2002             MOVS     R0,#+2
   \   000001D0   0x....             LDR.N    R1,??DataTable7_38
   \   000001D2   0xF8B1 0x10DE      LDRH     R1,[R1, #+222]
   \   000001D6   0xF360 0x218C      BFI      R1,R0,#+10,#+3
   \   000001DA   0x....             LDR.N    R0,??DataTable7_38
   \   000001DC   0xF8A0 0x10DE      STRH     R1,[R0, #+222]
   \   000001E0   0xE016             B.N      ??GPS_infoUnpack_20
   \                     ??GPS_infoUnpack_18: (+1)
   \   000001E2   0x....             LDR.N    R0,??DataTable7_42
   \   000001E4   0x7800             LDRB     R0,[R0, #+0]
   \   000001E6   0x284E             CMP      R0,#+78
   \   000001E8   0xD109             BNE.N    ??GPS_infoUnpack_21
   \   000001EA   0x2003             MOVS     R0,#+3
   \   000001EC   0x....             LDR.N    R1,??DataTable7_38
   \   000001EE   0xF8B1 0x10DE      LDRH     R1,[R1, #+222]
   \   000001F2   0xF360 0x218C      BFI      R1,R0,#+10,#+3
   \   000001F6   0x....             LDR.N    R0,??DataTable7_38
   \   000001F8   0xF8A0 0x10DE      STRH     R1,[R0, #+222]
   \   000001FC   0xE008             B.N      ??GPS_infoUnpack_20
   \                     ??GPS_infoUnpack_21: (+1)
   \   000001FE   0x2004             MOVS     R0,#+4
   \   00000200   0x....             LDR.N    R1,??DataTable7_38
   \   00000202   0xF8B1 0x10DE      LDRH     R1,[R1, #+222]
   \   00000206   0xF360 0x218C      BFI      R1,R0,#+10,#+3
   \   0000020A   0x....             LDR.N    R0,??DataTable7_38
   \   0000020C   0xF8A0 0x10DE      STRH     R1,[R0, #+222]
   \                     ??GPS_infoUnpack_20: (+1)
   \   00000210   0xE6FD             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_10: (+1)
   \   00000212   0x220A             MOVS     R2,#+10
   \   00000214   0x0031             MOVS     R1,R6
   \   00000216   0x....             LDR.N    R0,??DataTable7_47
   \   00000218   0x.... 0x....      BL       strncpy
   \   0000021C   0x....             LDR.N    R0,??DataTable7_47
   \   0000021E   0x.... 0x....      BL       atof
   \   00000222   0x.... 0x....      BL       __aeabi_d2iz
   \   00000226   0x....             LDR.N    R1,??DataTable7_48
   \   00000228   0x8008             STRH     R0,[R1, #+0]
   \   0000022A   0x....             LDR.N    R0,??DataTable7_48
   \   0000022C   0x8800             LDRH     R0,[R0, #+0]
   \   0000022E   0x.... 0x....      BL       __aeabi_ui2d
   \   00000232   0x....             LDR.N    R2,??DataTable7_49  ;; 0xc083126f
   \   00000234   0x....             LDR.N    R3,??DataTable7_50  ;; 0x3ffda1ca
   \   00000236   0x.... 0x....      BL       __aeabi_dmul
   \   0000023A   0x.... 0x....      BL       __aeabi_d2iz
   \   0000023E   0x....             LDR.N    R1,??DataTable7_38
   \   00000240   0xF8B1 0x10DE      LDRH     R1,[R1, #+222]
   \   00000244   0xF360 0x0109      BFI      R1,R0,#+0,#+10
   \   00000248   0x....             LDR.N    R0,??DataTable7_38
   \   0000024A   0xF8A0 0x10DE      STRH     R1,[R0, #+222]
   \   0000024E   0xE6DE             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_13: (+1)
   \   00000250   0x220A             MOVS     R2,#+10
   \   00000252   0x0031             MOVS     R1,R6
   \   00000254   0x....             LDR.N    R0,??DataTable7_51
   \   00000256   0x.... 0x....      BL       strncpy
   \   0000025A   0xE6D8             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_12: (+1)
   \   0000025C   0x2208             MOVS     R2,#+8
   \   0000025E   0x0031             MOVS     R1,R6
   \   00000260   0x....             LDR.N    R0,??DataTable7_52
   \   00000262   0x.... 0x....      BL       strncpy
   \   00000266   0x....             LDR.N    R0,??DataTable7_37
   \   00000268   0x7800             LDRB     R0,[R0, #+0]
   \   0000026A   0x2841             CMP      R0,#+65
   \   0000026C   0xD167             BNE.N    ??GPS_infoUnpack_22
   \   0000026E   0x....             LDR.N    R6,??DataTable7_35
   \   00000270   0x2202             MOVS     R2,#+2
   \   00000272   0x0031             MOVS     R1,R6
   \   00000274   0xA807             ADD      R0,SP,#+28
   \   00000276   0x.... 0x....      BL       strncpy
   \   0000027A   0xA807             ADD      R0,SP,#+28
   \   0000027C   0x.... 0x....      BL       atoi
   \   00000280   0x900A             STR      R0,[SP, #+40]
   \   00000282   0x2202             MOVS     R2,#+2
   \   00000284   0x1CB1             ADDS     R1,R6,#+2
   \   00000286   0xA807             ADD      R0,SP,#+28
   \   00000288   0x.... 0x....      BL       strncpy
   \   0000028C   0xA807             ADD      R0,SP,#+28
   \   0000028E   0x.... 0x....      BL       atoi
   \   00000292   0x9009             STR      R0,[SP, #+36]
   \   00000294   0x2202             MOVS     R2,#+2
   \   00000296   0x1D31             ADDS     R1,R6,#+4
   \   00000298   0xA807             ADD      R0,SP,#+28
   \   0000029A   0x.... 0x....      BL       strncpy
   \   0000029E   0xA807             ADD      R0,SP,#+28
   \   000002A0   0x.... 0x....      BL       atoi
   \   000002A4   0x9008             STR      R0,[SP, #+32]
   \   000002A6   0x....             LDR.N    R6,??DataTable7_52
   \   000002A8   0x2202             MOVS     R2,#+2
   \   000002AA   0x0031             MOVS     R1,R6
   \   000002AC   0xA807             ADD      R0,SP,#+28
   \   000002AE   0x.... 0x....      BL       strncpy
   \   000002B2   0xA807             ADD      R0,SP,#+28
   \   000002B4   0x.... 0x....      BL       atoi
   \   000002B8   0x900B             STR      R0,[SP, #+44]
   \   000002BA   0x2202             MOVS     R2,#+2
   \   000002BC   0x1CB1             ADDS     R1,R6,#+2
   \   000002BE   0xA807             ADD      R0,SP,#+28
   \   000002C0   0x.... 0x....      BL       strncpy
   \   000002C4   0xA807             ADD      R0,SP,#+28
   \   000002C6   0x.... 0x....      BL       atoi
   \   000002CA   0x900C             STR      R0,[SP, #+48]
   \   000002CC   0x2202             MOVS     R2,#+2
   \   000002CE   0x1D31             ADDS     R1,R6,#+4
   \   000002D0   0xA807             ADD      R0,SP,#+28
   \   000002D2   0x.... 0x....      BL       strncpy
   \   000002D6   0xA807             ADD      R0,SP,#+28
   \   000002D8   0x.... 0x....      BL       atoi
   \   000002DC   0xF510 0x60FA      ADDS     R0,R0,#+2000
   \   000002E0   0x900D             STR      R0,[SP, #+52]
   \   000002E2   0x980A             LDR      R0,[SP, #+40]
   \   000002E4   0x2810             CMP      R0,#+16
   \   000002E6   0xDA0D             BGE.N    ??GPS_infoUnpack_23
   \   000002E8   0x980A             LDR      R0,[SP, #+40]
   \   000002EA   0x3008             ADDS     R0,R0,#+8
   \   000002EC   0x900A             STR      R0,[SP, #+40]
   \   000002EE   0xA908             ADD      R1,SP,#+32
   \   000002F0   0xB084             SUB      SP,SP,#+16
   \   000002F2   0x4668             MOV      R0,SP
   \   000002F4   0x222C             MOVS     R2,#+44
   \   000002F6   0x.... 0x....      BL       __aeabi_memcpy4
   \   000002FA   0xBC0F             POP      {R0-R3}
   \   000002FC   0x.... 0x....      BL       TIME_ConvCalendarToUnix
   \   00000300   0x0006             MOVS     R6,R0
   \   00000302   0xE00A             B.N      ??GPS_infoUnpack_24
   \                     ??GPS_infoUnpack_23: (+1)
   \   00000304   0xA908             ADD      R1,SP,#+32
   \   00000306   0xB084             SUB      SP,SP,#+16
   \   00000308   0x4668             MOV      R0,SP
   \   0000030A   0x222C             MOVS     R2,#+44
   \   0000030C   0x.... 0x....      BL       __aeabi_memcpy4
   \   00000310   0xBC0F             POP      {R0-R3}
   \   00000312   0x.... 0x....      BL       TIME_ConvCalendarToUnix
   \   00000316   0xF510 0x46E1      ADDS     R6,R0,#+28800
   \                     ??GPS_infoUnpack_24: (+1)
   \   0000031A   0x....             LDR.N    R0,??DataTable7_53
   \   0000031C   0x6800             LDR      R0,[R0, #+0]
   \   0000031E   0x1A30             SUBS     R0,R6,R0
   \   00000320   0x.... 0x....      BL       abs
   \   00000324   0x280B             CMP      R0,#+11
   \   00000326   0xDB0A             BLT.N    ??GPS_infoUnpack_22
   \   00000328   0x0030             MOVS     R0,R6
   \   0000032A   0x.... 0x....      BL       TIME_SetUnixTime
   \   0000032E   0xA808             ADD      R0,SP,#+32
   \   00000330   0x.... 0x....      BL       TIME_GetCalendarTime
   \   00000334   0x....             LDR.N    R0,??DataTable7_54
   \   00000336   0xA908             ADD      R1,SP,#+32
   \   00000338   0x222C             MOVS     R2,#+44
   \   0000033A   0x.... 0x....      BL       __aeabi_memcpy4
   \                     ??GPS_infoUnpack_22: (+1)
   \   0000033E   0xE666             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_15: (+1)
   \   00000340   0x2208             MOVS     R2,#+8
   \   00000342   0x0031             MOVS     R1,R6
   \   00000344   0x....             LDR.N    R0,??DataTable7_55
   \   00000346   0x.... 0x....      BL       strncpy
   \   0000034A   0xE660             B.N      ??GPS_infoUnpack_2
   \                     ??GPS_infoUnpack_14: (+1)
   \   0000034C   0x2202             MOVS     R2,#+2
   \   0000034E   0x0031             MOVS     R1,R6
   \   00000350   0x....             LDR.N    R0,??DataTable7_56
   \   00000352   0x.... 0x....      BL       strncpy
   \   00000356   0xE65A             B.N      ??GPS_infoUnpack_2
    308                  }
    309              }
    310          }
   \                     ??GPS_infoUnpack_3: (+1)
   \                     ??GPS_infoUnpack_17: (+1)
   \   00000358   0xB013             ADD      SP,SP,#+76
   \   0000035A   0xBDF0             POP      {R4-R7,PC}       ;; return
   \                     ??GPS_infoUnpack_4:
   \   0000035C   0x2C 0x00          DC8      ",",0x0,0x0
   \              0x00 0x00    
    311          
    312          
    313          /**************************************************************
    314          * Description  : Q460接收协议。
    315          数据解析成功，返回1；否则返回0；
    316          * Author       : 2018/6/4 星期一, by redmorningcn
    317          */

   \                                 In section .text, align 2, keep-with-next
    318          u8  Q460ProtocoUnpack(char *pstr,int len)
    319          { 
   \                     Q460ProtocoUnpack: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x0005             MOVS     R5,R0
    320              char    *pe     = NULL;
   \   00000004   0x2400             MOVS     R4,#+0
    321              char    *div    = NULL;
   \   00000006   0x2000             MOVS     R0,#+0
    322              
    323              if(len < 255)
   \   00000008   0x29FF             CMP      R1,#+255
   \   0000000A   0xDA01             BGE.N    ??Q460ProtocoUnpack_0
    324                  pstr[len] = '\0';             //字符串结束
   \   0000000C   0x2000             MOVS     R0,#+0
   \   0000000E   0x5548             STRB     R0,[R1, R5]
    325              
    326              /**************************************************************
    327              * Description  : GPS定位信息
    328              * Author       : 2018/6/4 星期一, by redmorningcn
    329              */
    330              pe    = NULL;
   \                     ??Q460ProtocoUnpack_0: (+1)
   \   00000010   0x2400             MOVS     R4,#+0
    331              pe = strstr((const char *)pstr, (const char *)GPS_INFO_GET);        //确认是查询指令
   \   00000012   0x....             LDR.N    R1,??DataTable7_57
   \   00000014   0x0028             MOVS     R0,R5
   \   00000016   0x.... 0x....      BL       strstr
   \   0000001A   0x0004             MOVS     R4,R0
    332              
    333              if (pe ==  pstr) {
   \   0000001C   0x42AC             CMP      R4,R5
   \   0000001E   0xD10B             BNE.N    ??Q460ProtocoUnpack_1
    334                  /**************************************************************
    335                  * Description  : 严格判断。只有字满足条件，且字符在开始位置满足。
    336                  （防止数据帧中出现满足特定字符情况）
    337                  * Author       : 2018/6/4 星期一, by redmorningcn
    338                  */
    339                  Ctrl.Gps.DecInfo.sta.GpsComm    = 1;                //接收到GPS信息。
   \   00000020   0x....             LDR.N    R0,??DataTable7_36
   \   00000022   0x7800             LDRB     R0,[R0, #+0]
   \   00000024   0xF050 0x0002      ORRS     R0,R0,#0x2
   \   00000028   0x....             LDR.N    R1,??DataTable7_36
   \   0000002A   0x7008             STRB     R0,[R1, #+0]
    340                  
    341                  pe += (strlen(GPS_INFO_GET) + 1);                   //跳过头
   \   0000002C   0x1DE4             ADDS     R4,R4,#+7
    342                  GPS_infoUnpack(pe);                                 //取GPS位置信息
   \   0000002E   0x0020             MOVS     R0,R4
   \   00000030   0x.... 0x....      BL       GPS_infoUnpack
    343                  
    344                  return DEF_TRUE; 
   \   00000034   0x2001             MOVS     R0,#+1
   \   00000036   0xE01F             B.N      ??Q460ProtocoUnpack_2
    345              }
    346              
    347              /**************************************************************
    348              * Description  : GPS信号强度
    349              * Author       : 2018/6/4 星期一, by redmorningcn
    350              */
    351              pe    = NULL;
   \                     ??Q460ProtocoUnpack_1: (+1)
   \   00000038   0x2400             MOVS     R4,#+0
    352              pe = strstr((const char *)pstr, (const char *)GPS_RSSI_GET);//确认是查询指令
   \   0000003A   0x....             LDR.N    R1,??DataTable7_58
   \   0000003C   0x0028             MOVS     R0,R5
   \   0000003E   0x.... 0x....      BL       strstr
   \   00000042   0x0004             MOVS     R4,R0
    353              
    354              if (pe ==  pstr) {
   \   00000044   0x42AC             CMP      R4,R5
   \   00000046   0xD116             BNE.N    ??Q460ProtocoUnpack_3
    355                  /**************************************************************
    356                  * Description  : 严格判断。只有字满足条件，且字符在开始位置满足。
    357                  （防止数据帧中出现满足特定字符情况）
    358                  * Author       : 2018/6/4 星期一, by redmorningcn
    359                  */
    360                  Ctrl.Gps.DecInfo.sta.GpsComm    = 1;                //接收到GPS信息。
   \   00000048   0x....             LDR.N    R0,??DataTable7_36
   \   0000004A   0x7800             LDRB     R0,[R0, #+0]
   \   0000004C   0xF050 0x0002      ORRS     R0,R0,#0x2
   \   00000050   0x....             LDR.N    R1,??DataTable7_36
   \   00000052   0x7008             STRB     R0,[R1, #+0]
    361                  
    362                  pe += (strlen(GPS_RSSI_GET) );                      //跳过头
   \   00000054   0x1D64             ADDS     R4,R4,#+5
    363                  div = strstr(pe,"\r\n");
   \   00000056   0x....             ADR.N    R1,??DataTable7_10  ;; 0x0D, 0x0A, 0x00, 0x00
   \   00000058   0x0020             MOVS     R0,R4
   \   0000005A   0x.... 0x....      BL       strstr
    364                  if ( NULL != div ) {
   \   0000005E   0x2800             CMP      R0,#+0
   \   00000060   0xD007             BEQ.N    ??Q460ProtocoUnpack_4
    365                      *div = '\0';
   \   00000062   0x2100             MOVS     R1,#+0
   \   00000064   0x7001             STRB     R1,[R0, #+0]
    366                      Ctrl.Rec.Rssi = (u8)(atoi(pe));
   \   00000066   0x0020             MOVS     R0,R4
   \   00000068   0x.... 0x....      BL       atoi
   \   0000006C   0x....             LDR.N    R1,??DataTable7_38
   \   0000006E   0xF881 0x00E0      STRB     R0,[R1, #+224]
    367                  }        
    368                  return DEF_TRUE; 
   \                     ??Q460ProtocoUnpack_4: (+1)
   \   00000072   0x2001             MOVS     R0,#+1
   \   00000074   0xE000             B.N      ??Q460ProtocoUnpack_2
    369              }
    370              
    371              return DEF_FALSE;
   \                     ??Q460ProtocoUnpack_3: (+1)
   \   00000076   0x2000             MOVS     R0,#+0
   \                     ??Q460ProtocoUnpack_2: (+1)
   \   00000078   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    372          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   0x89374BC7         DC32     0x89374bc7

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_1:
   \   00000000   0x40520041         DC32     0x40520041

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_2:
   \   00000000   0xDCC63F15         DC32     0xdcc63f15

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_3:
   \   00000000   0x40613AB5         DC32     0x40613ab5

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_4:
   \   00000000   0x27525461         DC32     0x27525461

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_5:
   \   00000000   0x3FEA89A0         DC32     0x3fea89a0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   0x69AD42C5         DC32     0x69ad42c5

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_1:
   \   00000000   0x404BE9DE         DC32     0x404be9de

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_2:
   \   00000000   0xC0590000         DC32     0xc0590000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_3:
   \   00000000   0x40080000         DC32     0x40080000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_4:
   \   00000000   0x9999999A         DC32     0x9999999a

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_5:
   \   00000000   0x3FC99999         DC32     0x3fc99999

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_6:
   \   00000000   0x3FB99999         DC32     0x3fb99999

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_7:
   \   00000000   0x40180000         DC32     0x40180000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_8:
   \   00000000   0x........         DC32     pi

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_9:
   \   00000000   0x40340000         DC32     0x40340000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_10:
   \   00000000   0x0D 0x0A          DC8      0x0D, 0x0A, 0x00, 0x00
   \              0x00 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_11:
   \   00000000   0x40440000         DC32     0x40440000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_12:
   \   00000000   0x40280000         DC32     0x40280000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_13:
   \   00000000   0x40640000         DC32     0x40640000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_14:
   \   00000000   0x403E0000         DC32     0x403e0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_15:
   \   00000000   0x40740000         DC32     0x40740000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_16:
   \   00000000   0x4072C000         DC32     0x4072c000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_17:
   \   00000000   0x4062C000         DC32     0x4062c000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_18:
   \   00000000   0xC0418000         DC32     0xc0418000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_19:
   \   00000000   0xC05A4000         DC32     0xc05a4000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_20:
   \   00000000   0x40668000         DC32     0x40668000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_21:
   \   00000000   0x........         DC32     ee

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_22:
   \   00000000   0x3FF00000         DC32     0x3ff00000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_23:
   \   00000000   0x........         DC32     a

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_24:
   \   00000000   0x........         DC32     x_pi

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_25:
   \   00000000   0x88E368F1         DC32     0x88e368f1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_26:
   \   00000000   0x3EF4F8B5         DC32     0x3ef4f8b5

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_27:
   \   00000000   0x7110E454         DC32     0x7110e454

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_28:
   \   00000000   0x3EC92A73         DC32     0x3ec92a73

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_29:
   \   00000000   0x76C8B439         DC32     0x76c8b439

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_30:
   \   00000000   0x3F7A9FBE         DC32     0x3f7a9fbe

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_31:
   \   00000000   0xBC6A7EFA         DC32     0xbc6a7efa

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_32:
   \   00000000   0x3F789374         DC32     0x3f789374

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_33:
   \   00000000   0xBF7A9FBE         DC32     0xbf7a9fbe

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_34:
   \   00000000   0xBF789374         DC32     0xbf789374

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_35:
   \   00000000   0x........         DC32     Ctrl+0x1242

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_36:
   \   00000000   0x........         DC32     Ctrl+0x1294

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_37:
   \   00000000   0x........         DC32     Ctrl+0x124E

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_38:
   \   00000000   0x........         DC32     Ctrl

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_39:
   \   00000000   0x........         DC32     Ctrl+0x1250

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_40:
   \   00000000   0x42700000         DC32     0x42700000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_41:
   \   00000000   0x........         DC32     Ctrl+0x12A0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_42:
   \   00000000   0x........         DC32     Ctrl+0x125C

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_43:
   \   00000000   0x........         DC32     Ctrl+0x125E

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_44:
   \   00000000   0x........         DC32     Ctrl+0x12A8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_45:
   \   00000000   0x49742400         DC32     0x49742400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_46:
   \   00000000   0x........         DC32     Ctrl+0x126A

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_47:
   \   00000000   0x........         DC32     Ctrl+0x126C

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_48:
   \   00000000   0x........         DC32     Ctrl+0x12AE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_49:
   \   00000000   0xC083126F         DC32     0xc083126f

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_50:
   \   00000000   0x3FFDA1CA         DC32     0x3ffda1ca

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_51:
   \   00000000   0x........         DC32     Ctrl+0x1276

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_52:
   \   00000000   0x........         DC32     Ctrl+0x1280

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_53:
   \   00000000   0x........         DC32     t_now

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_54:
   \   00000000   0x........         DC32     tm_now

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_55:
   \   00000000   0x........         DC32     Ctrl+0x1288

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_56:
   \   00000000   0x........         DC32     Ctrl+0x1290

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_57:
   \   00000000   0x........         DC32     ?_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_58:
   \   00000000   0x........         DC32     ?_2

   \                                 In section .rodata, align 2
   \   00000000   0x2C 0x00          DC8 ","

   \                                 In section .rodata, align 4
   \                     ?_1:
   \   00000000   0x24 0x47          DC8 "$GPRMC"
   \              0x50 0x52    
   \              0x4D 0x43    
   \              0x00         
   \   00000007   0x00               DC8 0

   \                                 In section .rodata, align 4
   \                     ?_2:
   \   00000000   0x2B 0x43          DC8 "+CSQ:"
   \              0x53 0x51    
   \              0x3A 0x00    
   \   00000006   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \   00000000   0x0D 0x0A          DC8 "\015\012"
   \              0x00         
   \   00000003   0x00               DC8 0
    373              
    374           
    375          
    376          /*******************************************************************************
    377          * 				                end of file                                    *
    378          *******************************************************************************/
    379          #endif

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
     112   GPS_infoUnpack
        96   -> TIME_ConvCalendarToUnix
        96   -> TIME_GetCalendarTime
        96   -> TIME_SetUnixTime
        96   -> __aeabi_d2f
        96   -> __aeabi_d2iz
        96   -> __aeabi_dmul
        96   -> __aeabi_f2iz
        96   -> __aeabi_f2uiz
        96   -> __aeabi_fadd
        96   -> __aeabi_fdiv
        96   -> __aeabi_fmul
        96   -> __aeabi_fsub
        96   -> __aeabi_i2f
       112   -> __aeabi_memcpy4
        96   -> __aeabi_memcpy4
        96   -> __aeabi_ui2d
        96   -> abs
        96   -> atof
        96   -> atoi
        96   -> strncpy
        96   -> strstr
      16   Q460ProtocoUnpack
        16   -> GPS_infoUnpack
        16   -> atoi
        16   -> strstr
      40   bd_decrypt
        40   -> __aeabi_d2f
        40   -> __aeabi_dadd
        40   -> __aeabi_dmul
        40   -> __aeabi_dsub
        40   -> __aeabi_f2d
        40   -> atan2
        40   -> cos
        40   -> sin
        40   -> sqrt
      40   bd_encrypt
        40   -> __aeabi_d2f
        40   -> __aeabi_dadd
        40   -> __aeabi_dmul
        40   -> __aeabi_f2d
        40   -> atan2
        40   -> cos
        40   -> sin
        40   -> sqrt
      72   gps_transform
        72   -> __aeabi_d2f
        72   -> __aeabi_dadd
        72   -> __aeabi_ddiv
        72   -> __aeabi_dmul
        72   -> __aeabi_dsub
        72   -> __aeabi_f2d
        72   -> cos
        72   -> outOfChina
        72   -> sin
        72   -> sqrt
        72   -> transformLat
        72   -> transformLon
      16   outOfChina
        16 __aeabi_cdcmple
        16 __aeabi_cdrcmple
       8   strstr
         8   -> __iar_Strstr
      40   transformLat
        40   -> __aeabi_d2iz
        40   -> __aeabi_dadd
        40   -> __aeabi_ddiv
        40   -> __aeabi_dmul
        40   -> __aeabi_i2d
        40   -> abs
        40   -> sin
        40   -> sqrt
      40   transformLon
        40   -> __aeabi_d2iz
        40   -> __aeabi_dadd
        40   -> __aeabi_ddiv
        40   -> __aeabi_dmul
        40   -> __aeabi_i2d
        40   -> abs
        40   -> sin
        40   -> sqrt


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable6
       4  ??DataTable6_1
       4  ??DataTable6_2
       4  ??DataTable6_3
       4  ??DataTable6_4
       4  ??DataTable6_5
       4  ??DataTable7
       4  ??DataTable7_1
       4  ??DataTable7_10
       4  ??DataTable7_11
       4  ??DataTable7_12
       4  ??DataTable7_13
       4  ??DataTable7_14
       4  ??DataTable7_15
       4  ??DataTable7_16
       4  ??DataTable7_17
       4  ??DataTable7_18
       4  ??DataTable7_19
       4  ??DataTable7_2
       4  ??DataTable7_20
       4  ??DataTable7_21
       4  ??DataTable7_22
       4  ??DataTable7_23
       4  ??DataTable7_24
       4  ??DataTable7_25
       4  ??DataTable7_26
       4  ??DataTable7_27
       4  ??DataTable7_28
       4  ??DataTable7_29
       4  ??DataTable7_3
       4  ??DataTable7_30
       4  ??DataTable7_31
       4  ??DataTable7_32
       4  ??DataTable7_33
       4  ??DataTable7_34
       4  ??DataTable7_35
       4  ??DataTable7_36
       4  ??DataTable7_37
       4  ??DataTable7_38
       4  ??DataTable7_39
       4  ??DataTable7_4
       4  ??DataTable7_40
       4  ??DataTable7_41
       4  ??DataTable7_42
       4  ??DataTable7_43
       4  ??DataTable7_44
       4  ??DataTable7_45
       4  ??DataTable7_46
       4  ??DataTable7_47
       4  ??DataTable7_48
       4  ??DataTable7_49
       4  ??DataTable7_5
       4  ??DataTable7_50
       4  ??DataTable7_51
       4  ??DataTable7_52
       4  ??DataTable7_53
       4  ??DataTable7_54
       4  ??DataTable7_55
       4  ??DataTable7_56
       4  ??DataTable7_57
       4  ??DataTable7_58
       4  ??DataTable7_6
       4  ??DataTable7_7
       4  ??DataTable7_8
       4  ??DataTable7_9
       2  ?_0
       8  ?_1
       8  ?_2
       4  ?_3
     864  GPS_infoUnpack
     122  Q460ProtocoUnpack
       8  a
     262  bd_decrypt
     254  bd_encrypt
       8  ee
     494  gps_transform
      86  outOfChina
       8  pi
       8  strstr
     564  transformLat
     554  transformLon
       8  x_pi

 
    54 bytes in section .rodata
 3 468 bytes in section .text
 
 3 460 bytes of CODE  memory (+ 8 bytes shared)
    54 bytes of CONST memory

Errors: none
Warnings: none
